<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.0">
<title>Anypoint™ Advanced Connector Certification Process</title>
<style>

@import "http://fonts.googleapis.com/css?family=Ubuntu:regular,bold&subset=Latin";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:"Verdana", sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
#map_canvas img,#map_canvas embed,#map_canvas object,.map_canvas img,.map_canvas embed,.map_canvas object{max-width:none!important}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
.antialiased,body{-webkit-font-smoothing:antialiased}
img{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#97999b;text-decoration:blink;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Ubuntu",sans-serif;font-weight:300;font-style:normal;color:#00A3E0;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{display:inline-block;color:rgba(0,0,0,.8);font-size:.75em;line-height:1.4;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:-.15em .15em 0 .15em;padding:.2em .6em .2em .5em;vertical-align:middle;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Ubuntu",sans-serif;list-style-type:none}
#toc a{text-decoration:none}
#toc>ul>li>a { font-weight: bold; color:#00A3E0; }
#toc a:active{text-decoration:underline}
#toctitle{color:#00A3E0;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:white;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}@media only screen and (min-width:1280px){body.toc2{padding-left:30em;padding-right:5em}
#toc.toc2{width:20em;margin-left: 5em;}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#006892;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Ubuntu",sans-serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.05em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.spread{width:100%}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1{padding-right:.75em;font-weight:bold}
td.hdlist1,td.hdlist2{vertical-align:top}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none}
span.footnote,span.footnoteref{vertical-align:super;font-size:.875em}
span.footnote a,span.footnoteref a{text-decoration:none}
span.footnote a:active,span.footnoteref a:active{text-decoration:none;}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em;line-height:1.3;font-size:.875em;margin-left:1.2em;text-indent:-1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
h1,h2{letter-spacing:-.01em}
dt,th.tableblock,td.content{text-rendering:optimizeLegibility}
p,td.content{letter-spacing:-.01em}
p strong,td.content strong{letter-spacing:-.005em}
p,blockquote,dt,td.content{font-size:0.9rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img{page-break-inside:avoid}
thead{display:table-header-group}
img{max-width:100%!important}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{font-weight: normal}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#00}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Anypoint™ Advanced Connector Certification Process</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Certification Process</a>
<ul class="sectlevel2">
<li><a href="#on-board">1.1. Stage 1: On-Board</a></li>
<li><a href="#_development">1.2. Stage 2: Development</a></li>
<li><a href="#_certification">1.3. Stage 3: Certification</a></li>
<li><a href="#publishing">1.4. Stage 4: Publishing</a></li>
<li><a href="#re-certification">1.5. Release Re-Certification</a></li>
</ul>
</li>
<li><a href="#_coding_standars_and_best_practices">2. Coding Standards and Best Practices</a>
<ul class="sectlevel2">
<li><a href="#_anypoint_connector_devkit_version">2.1. Anypoint™ Connector DevKit Version</a></li>
<li><a href="#_connector_category">2.2. Connector Category</a></li>
<li><a href="#_maven_conventions_and_setup">2.3. Maven Conventions and Setup</a></li>
<li><a href="#_devkit_standars_best_practices">2.4. DevKit Standars and Best Practices</a></li>
<li><a href="#_connector_demo_example">2.5. Connector Demo Example</a></li>
<li><a href="#_third_party_licenses">2.6. Third-Party Licenses</a></li>
<li><a href="#_connector_icon">2.7. Connector Icon</a></li>
</ul>
</li>
<li><a href="#_static_code_analysis_and_coverage">3. Static Code Analysis and Coverage</a>
<ul class="sectlevel2">
<li><a href="#_installing_sonarqube">3.1. Installing SonarQube</a></li>
<li><a href="#_performing_your_first_analysis">3.2. Performing Your First Analysis</a></li>
<li><a href="#_sonarqube_eclipse_plugin_setup">3.3. SonarQube Eclipse Plugin Setup</a></li>
<li><a href="#_quality_profile_rules">3.4. Quality Profile Rules</a></li>
<li><a href="#_code_coverage">3.5. Code Coverage</a></li>
<li><a href="#_code_quality_review_guideline">3.6. Code Quality Review Guideline</a></li>
</ul>
</li>
<li><a href="#_functional_tests_automation">4. Tests Automation</a>
<ul class="sectlevel2">
<li><a href="#_how_to_start">4.1. How to Start?</a></li>
<li><a href="#_best_practices_2">4.2. Best Practices</a></li>
<li><a href="#_functional_tests">4.3. Functional Tests</a></li>
<li><a href="#_system_tests">4.4. System Tests</a></li>
<li><a href="#_unit_tests">4.5. Unit Tests</a></li>
<li><a href="#_test_execution">4.6. Test Execution</a></li>
</ul>
</li>
<li><a href="#_anypoint_studio_iteroperability_testing">5. Anypoint™ Studio Interoperability Testing</a></li>
<li><a href="#_cloudhub_interoperability">6. CloudHub Interoperability</a></li>
<li><a href="#_documentation">7. Documentation &amp; Release Notes</a>
<ul class="sectlevel2">
<li><a href="#_built_in_documentation">7.1. Built-in Documentation</a></li>
<li><a href="#_connector_apidocs">7.2. Connector ApiDocs</a></li>
</ul>
</li>
<li><a href="#_appendixes">8. Appendixes &amp; Templates</a>
<ul class="sectlevel2">
<li><a href="#_connector_project_directory_layout">8.1. Connector Project Directory Layout</a></li>
<li><a href="#_common_public_attribution_license_version_1_0_cpal">8.2. Common Public Attribution License Version 1.0 (CPAL)</a></li>
<li><a href="#_functional_tests_automation_howto">8.3. Functional Tests Automation: HowTo</a></li>
<li><a href="#_anypoint_studio_interoperability_testing_howto">8.4. Anypoint™ Studio Interoperability Testing: HowTo</a></li>
<li><a href="#_anypoint_connectors_manual_test_suite_template">8.5. Anypoint™ Connectors Manual Test Suite Template</a></li>
<li><a href="#certification-checklist">8.6. Certification Checklists</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><em>version 2.0</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction">1. Certification Process</h2>
<div class="sectionbody">
<div class="paragraph">
<p>MuleSoft has expanded the Anypoint™ Connector platform enabling partners, from MuleSoft Partner Program, and third-party development groups, to develop Anypoint™ connectors.</p>
</div>
<div class="paragraph">
<p>Every connector in the MuleSoft Anypoint™ Platform must go through a mandatory <strong>Certification Process</strong> before final release. This certification process has been conceived to assess the overall quality of all available connectors, ensuring that every connector published in the MuleSoft Connectors library strictly follows industry best practices. As a result of this certification process, we are able to define a high quality threshold for every Anypoint™ connector available within the MuleSoft platform.</p>
</div>
<div class="paragraph">
<p>All available connectors, either built by our partners or by our internal development team, go through the same certification process, which is carried out by our MuleSoft&#8217;s internal team. Once a connector passes certification, it is branded as a MuleSoft-certified connector and published within the MuleSoft Connectors Library.</p>
</div>
<div class="paragraph">
<p>The scope of this process mainly depends on the composition of the connector, where a more complex connector will require further steps in the certification process. Our certification approach aims at testing every functional block of the connector prior releasing.</p>
</div>
<div class="paragraph">
<p>This document first introduces the entire <strong>Connector Lifecycle Model</strong>, which includes four different stages: On-board, Development, Certification and Publishing.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>On-board: Takes into consideration the legal engagement between a third-party development group or partner, and MuleSoft.</p>
</li>
<li>
<p>Development: The development stage, considering strictly testing methodologies.</p>
</li>
<li>
<p>Certification: The certification process per-se, carried out by a MuleSoft.</p>
</li>
<li>
<p>Publishing: Considers the final deployment of the certified connector within MuleSoft Connectors Library.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Within these stages, we only take into consideration the second and third ones: Development and Certification. The first stage is out of the scope of this document, while the last one hardly requires interaction from the developer&#8217;s side and therefore it will be omitted.</p>
</div>
<div class="paragraph">
<p>The connector lifecycle model consists of the following stages:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/connector-lifecycle.png" alt="connector lifecycle">
</div>
</div>
<div class="sect2">
<h3 id="on-board">1.1. Stage 1: On-Board</h3>
<div class="paragraph">
<p>This first stage consists of legal matters involving the development of a connector for MuleSoft. This stage includes a learning phase of the default framework for developing connectors, the Anypoint™ Connector DevKit.</p>
</div>
<div class="sect3">
<h4 id="_legal_engagement">1.1.1. Legal Engagement</h4>
<div class="paragraph">
<p>Both sides, MuleSoft and a Service Integrator (<em>SI</em>), state the guidelines and expected product deliverables before starting the development stage.</p>
</div>
</div>
<div class="sect3">
<h4 id="_learning_anypoint_connector_devkit">1.1.2. Learning Anypoint Connector DevKit</h4>
<div class="paragraph">
<p>Anypoint Connector DevKit is the default tool for developing Anypoint connectors. It provides a vast set of features to help you develop and maintain your connector. Features include, but are not limited to:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Visual design and implementation using Anypoint Studio with an Eclipse-oriented interface that simplifies and speeds up development.</p>
</li>
<li>
<p>Maven support for development and building.</p>
</li>
<li>
<p>Connector development and packaging tools.</p>
</li>
<li>
<p>Authentication support for multiple types of authentication using OAuth and basic authentication types.</p>
</li>
<li>
<p>DataSense support to acquire metadata in design time.</p>
</li>
<li>
<p>Extensive testing capability.</p>
</li>
<li>
<p>Examples, training, and support to ease startup.</p>
</li>
<li>
<p>Batch, query pagination, and DataSense Query Language support.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The following are a set of useful links as a starting point:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://training.mulesoft.com/instructor-led-training/connector-development-essentials-private-class-ilt">Connector Development Essentials</a></p>
</li>
<li>
<p><a href="http://www.mulesoft.org/documentation/display/current/Anypoint+Connector+DevKit">Official DevKit Documentation</a></p>
</li>
<li>
<p><a href="http://mulesoft.github.io/mule-cookbook-tutorial">DevKit Tutorial</a></p>
</li>
<li>
<p><a href="http://forums.mulesoft.com/spaces/35/anypoint-connector-devkit.html">Community Forum</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_development">1.2. Stage 2: Development</h3>
<div class="paragraph">
<p>The development stage is one of two major phases, mostly occurring in the development team side. Since the MuleSoft team has relatively low control over this stage, MuleSoft requires every developer to follow a strict set of practices, which we call <strong>Mandatory Practices</strong>.</p>
</div>
<div class="sect3">
<h4 id="_design_specification_review">1.2.1. Design Specification Review</h4>
<div class="paragraph">
<p>The <em>design specification review</em> phase, within the development stage, primarily assists developers and designers to clarify the functional behavior of the connector, provides extensive use cases, ranging from normal to border-cases, and includes an overall architecture design. MuleSoft strongly recommends that developers, as well as designers, consider this step mandatory, taking into consideration the
<a href="files/designSpecificationTemplate.html">Design Specification Template</a>.</p>
</div>
<div class="paragraph">
<p>The Design Specification Template is one of the two <em>Exit Criteria Documents</em> from the development stage, needed by the MuleSoft team. The second document is the <a href="files/CertificationChecklist_connector_name-connector_version.xlsx">Certification Checklist Document</a>, which ensures that every mandatory practice has been accomplished and complete all deliverables.</p>
</div>
<div class="paragraph">
<p>Due to Interoperability QA Guidelines, this checklist has the associated <a href="files/connector_name-connector_version_ManualInteroperabilityTestSuiteTemplate.xlsx">Manual Interoperability Test Run</a> document.</p>
</div>
</div>
<div class="sect3">
<h4 id="_mandatory_practices">1.2.2. Mandatory Practices</h4>
<div class="paragraph">
<p>The Mandatory Practices assure an overall product quality, ranging from coding standards to documentation. The MuleSoft team requires that you strictly follow every practice and produce the required deliverables, including release notes and an user guide. Mandatory practices are detailed in following sections of this document.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_coding_standars_and_best_practices">Coding Standards and Best Practices</a></p>
</li>
<li>
<p><a href="#_static_code_analysis_and_coverage">Static Code Analysis and Coverage</a></p>
</li>
<li>
<p><a href="#_functional_tests_automation">Functional Tests Automation</a></p>
</li>
<li>
<p><a href="#_anypoint_studio_iteroperability_testing">Anypoint Studio Interoperability Testing</a></p>
</li>
<li>
<p><a href="#_cloudhub_interoperability_testing">CloudHub Interoperability Testing</a></p>
</li>
<li>
<p><a href="#_documentation">Documentation &amp; Release Notes</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_certification">1.3. Stage 3: Certification</h3>
<div class="paragraph">
<p>The certification stage occurs mostly in the MuleSoft side. This stage includes different high-level objectives, such as:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Automated code scan</p>
</li>
<li>
<p>Manual code review and black box testing</p>
</li>
<li>
<p>Manual and automated tests review</p>
</li>
<li>
<p>Repository structure review</p>
</li>
<li>
<p>Documentation review</p>
</li>
<li>
<p>Runtime-compatibility review</p>
</li>
<li>
<p>Static code analysis</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The certification stage requires different prerequisites, because a wide set of code properties are checked and validated. These properties include GitHub credentials, Maven dependencies, and code versioning, among others.</p>
</div>
<div class="sect3">
<h4 id="_prerequisites">1.3.1. Prerequisites</h4>
<div class="paragraph">
<p>Prerequisites to be satisfied:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Design Specification Template Approved:</strong> The Design Specification template has been approved and all suggested corrections have been taken into consideration by the development team.</p>
</li>
<li>
<p><strong>Source Code Access and Sandbox Credentials:</strong> As part of the certification process, the MuleSoft team internally runs and continues tests execution, and runs a set of code inspections to validate the quality of the connector. The following actions are required:</p>
<div class="ulist">
<ul>
<li>
<p>GitHub account with read access must be granted to the user <em>connectors-cert-ci</em> (connectors-cert-ci at mulesoft dot com).</p>
</li>
<li>
<p>If required, provide the sandbox credentials used for tests execution.</p>
</li>
<li>
<p>Create a release branch containing all the bug fixes produced during the certification process. This follows the naming convention "release/v&lt;version-number&gt;". After the certification process is complete, all changes are merged into the master branch and a tag, with all the changes, needs to be created. MuleSoft strongly recommends that you follow GitFlow branching practices.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Maven Dependencies:</strong></p>
<div class="ulist">
<ul>
<li>
<p>The connector must be a final version: No SNAPSHOTS are allowed.</p>
</li>
<li>
<p>SNAPSHOT dependencies are not allowed.</p>
</li>
<li>
<p>External dependencies need to be located in well-known public repositories.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Presentation Demo:</strong> The objective of this demo is to go over the functional aspects of the connector, the overview of the system to be connected, and the underlying integration technologies (REST/SOAP/SDK). The audience of this meeting are Product Managers, Connectors Engineers, Leads, and QA staff.</p>
</li>
<li>
<p><strong>Complete the <a href="#certification-checklist">Certification Checklist</a></strong></p>
</li>
<li>
<p><strong>Connector Documentation:</strong> Access to your connector documentation is required.</p>
</li>
<li>
<p><strong>Versioning:</strong> The Connector must follow the following versioning scheme. Given a version number MAJOR.MINOR.PATCH, only increment a MAJOR version when you make incompatible API changes; increment a MINOR version when you add functionality in a backwards-compatible manner; and increment a PATCH version when you make backwards-compatible bug fixes.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_certification_2">1.3.2. Certification</h4>
<div class="paragraph">
<p>After completing all previous steps, MuleSoft starts the certification process, which is an iterative process. MuleSoft reports different recommendations, which need to be completed by the connector development team, otherwise certification fails.</p>
</div>
<div class="paragraph">
<p>MuleSoft defines a tentative starting date for the certification process, where MuleSoft recommends that your team allocates different time windows, so as to respond to our recommendations. After you resolve and implement all requirements, the certification process ends. However, if there is no active engagement in solving the proposed recommendations within a seven-day period, the whole certification process is suspended and a new tentative starting date is defined.</p>
</div>
<div class="paragraph">
<p>MuleSoft provides a CloudBees dedicated account (<a href="http://www.cloudbees.com" class="bare">http://www.cloudbees.com</a>) that you can use to monitor test execution and static code analysis reports.</p>
</div>
<div class="paragraph">
<p>The main communication channel between the MuleSoft team and your team is the MuleSoft connector forum, part of the MuleSoft forum community.</p>
</div>
</div>
<div class="sect3">
<h4 id="_results">1.3.3. Results</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Support Training:</strong> MuleSoft support team provides T1 support and helps you isolate the issue and identify if the issue is a MuleSoft issue or a connector issue.</p>
</li>
<li>
<p>*Upload of certified connectors to <a href="https://www.mulesoft.com/exchange">Anypoint Exchange</a>. After your connector passes certification, MuleSoft sends you an estimated date for when your connector will appear in Anypoint Exchange. As part of this process, the following information need to be provided:</p>
<div class="ulist">
<ul>
<li>
<p>High level description of the connector. The <a href="https://www.mulesoft.com/exchange#!/salesforce-integration-connector?types=connector">SalesForce connector</a> can be used as a template example.</p>
</li>
<li>
<p>URL to release notes.</p>
</li>
<li>
<p>URL to functional documentation.</p>
</li>
<li>
<p>URL to Anypoint Connector DevKit generated documentation.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="publishing">1.4. Stage 4: Publishing</h3>
<div class="paragraph">
<p>The final stage in the connector lifecycle model is publishing, which MuleSoft carries out. After the certification process successfully completes, the connector deployes and publishes in the MuleSoft Anypoint Exchange.</p>
</div>
</div>
<div class="sect2">
<h3 id="re-certification">1.5. Release Re-Certification</h3>
<div class="paragraph">
<p>Mule ESB and Anypoint Studio have a release cycle of three month, where MuleSoft assures that previously published connectors are compatible with new releases. Due to class-loading issues and data-mapping problems, already published connectors might not work in new Mule ESB versions. Therefore, prior to Mule ESB and Anypoint Studio releases, MuleSoft runs regression tests to assure full forward compatibility.</p>
</div>
<div class="paragraph">
<p>If regression testing fails, it is up to the connector development team to decide whether the connector supports or not newer versions of Mule ESB and Anypoint Studio.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_coding_standars_and_best_practices">2. Coding Standards and Best Practices</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Development best practices and coding standards have been included within the connector development community over time, leading to improve the quality of connectors. During the certification process, most of these practices and standards are checked through automated tools, such as SonarQube.</p>
</div>
<div class="sect2">
<h3 id="_anypoint_connector_devkit_version">2.1. Anypoint™ Connector DevKit Version</h3>
<div class="paragraph">
<p>The last version of Anypoint™ Connector DevKit must be used to develop your connector. As of 2015, the latest stable DevKit version is 3.7.X.</p>
</div>
<div class="paragraph">
<p>DevKit 3.7.x assures that a connector will be compatible with Mule ESB 3.5.x, Mule ESB 3.6.x and Mule ESB 3.7.x. However, external libraries employed by the connector might have conflicts with different Mule ESB versions. Samity checks are mandatory for every Mule ESB version.</p>
</div>
</div>
<div class="sect2">
<h3 id="_connector_category">2.2. Connector Category</h3>
<div class="paragraph">
<p>A connector should define its category in the POM properties:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;groupId&gt;</span>org.mule.modules<span class="tag">&lt;/groupId&gt;</span>
<span class="tag">&lt;artifactId&gt;</span>mule-module-sample-connector<span class="tag">&lt;/artifactId&gt;</span>
<span class="tag">&lt;version&gt;</span>1.0.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;name&gt;</span>Mule Sample Connector <span class="tag">&lt;/name&gt;</span>
<span class="tag">&lt;packaging&gt;</span>pom/packaging<span class="error">&gt;</span>

<span class="tag">&lt;properties&gt;</span>
    <span class="tag">&lt;category&gt;</span>Select<span class="tag">&lt;/category&gt;</span>
    <span class="tag">&lt;licensePath&gt;</span>LICENSE.md<span class="tag">&lt;/licensePath&gt;</span>
    <span class="tag">&lt;devkit.studio.package.skip&gt;</span>false<span class="tag">&lt;/devkit.studio.package.skip&gt;</span>
<span class="tag">&lt;/properties&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>DevKit 3.7.x requires you to use <strong>Select</strong> in the category (i.e. &lt;category&gt;Select&lt;/category&gt;) and to include the <strong>@RequiresEnterpriseLicense</strong>. In addition, you should use your own license validation mechanism.</p>
</div>
<div class="sect3">
<h4 id="_distribution_management">2.2.1. Distribution Management</h4>
<div class="paragraph">
<p>Configuration of the distributionManagement element varies from connector to connector, depending on its category and the project structure.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Select:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;distributionManagement&gt;</span>
    <span class="tag">&lt;repository&gt;</span>
        <span class="tag">&lt;id&gt;</span>mule-ee-releases<span class="tag">&lt;/id&gt;</span>
        <span class="tag">&lt;name&gt;</span>MuleEE Releases Repository<span class="tag">&lt;/name&gt;</span>
        <span class="tag">&lt;url&gt;</span>https://repository-master.mulesoft.org/nexus/content/repositories/releases-ee/<span class="tag">&lt;/url&gt;</span>
    <span class="tag">&lt;/repository&gt;</span>
    <span class="tag">&lt;snapshotRepository&gt;</span>
        <span class="tag">&lt;id&gt;</span>mule-ee-snapshots<span class="tag">&lt;/id&gt;</span>
        <span class="tag">&lt;name&gt;</span>MuleEE Snapshots Repository<span class="tag">&lt;/name&gt;</span>
        <span class="tag">&lt;url&gt;</span>https://repository-master.mulesoft.org/nexus/content/repositories/ci-snapshots/<span class="tag">&lt;/url&gt;</span>
        <span class="tag">&lt;uniqueVersion&gt;</span>false<span class="tag">&lt;/uniqueVersion&gt;</span>
    <span class="tag">&lt;/snapshotRepository&gt;</span>
<span class="tag">&lt;/distributionManagement&gt;</span></code></pre>
</div>
</div>
</li>
<li>
<p>Multi-module Select:</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If a Select connector is part of a multi-module project, before the release we should verify that:
* The connector&#8217;s module is deployed to the private nexus (same distribution management as described above for Standard, ci-releases).
* The parent pom and other non-connector modules of the multi-module project have the same distribution management as described above for public or Community connectors.</p>
</div>
<div class="paragraph">
<p>For example, in a project with a parent pom, a utils module and a connector module, if and only if the connector is Select, then the parent pom should declare the public distributionManagement, and then it should be overriden in the connectors' pom with the private distributionManagement.</p>
</div>
</div>
<div class="sect3">
<h4 id="_distribution_management_matrix">2.2.2. Distribution Management Matrix:</h4>
<table class="tableblock frame-topbot grid-all" style="width: 40%;">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Select</th>
</tr>
</thead>
<tfoot>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://repository-master.mulesoft.org/nexus/content/repositories/releases-ee/" class="bare">https://repository-master.mulesoft.org/nexus/content/repositories/releases-ee/</a></p></td>
</tr>
</tfoot>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single Module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://repository-master.mulesoft.org/nexus/content/repositories/releases-ee/" class="bare">https://repository-master.mulesoft.org/nexus/content/repositories/releases-ee/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multi Module</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parent, Utils:</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://repository-master.mulesoft.org/releases/" class="bare">http://repository-master.mulesoft.org/releases/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connector:</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_maven_conventions_and_setup">2.3. Maven Conventions and Setup</h3>
<div class="paragraph">
<p>The following section describes set of conventions and best practices to follow at the time to define your connector Maven project structure.</p>
</div>
<div class="sect3">
<h4 id="_best_practices">2.3.1. Best Practices</h4>
<div class="paragraph">
<p>A connector tested in an isolated environment might not work in a Mule environment. Therefore, different constrains apply:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Follow <a href="http://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html">Maven default name conventions</a>.</p>
</li>
<li>
<p>Do not overwrite org.mule.tools.devkit:mule-devkit-parent properties.</p>
</li>
<li>
<p>Do not reference SNAPSHOT dependencies in plugins or dependencies.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_multi_module_layout">2.3.2. Multi Module Layout</h4>
<div class="paragraph">
<p>In large Maven projects, it is a common practice to divide the project in submodules. This means you may end up with a module for your connector and other modules for utils, commons or other kind of modularized source code that will be consumed by the connector.</p>
</div>
<div class="paragraph">
<p>Consider the following use-case:</p>
</div>
<div class="paragraph">
<p><strong>Project parent pom</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;groupId&gt;</span>org.mule.modules<span class="tag">&lt;/groupId&gt;</span>
<span class="tag">&lt;artifactId&gt;</span>mule-module-sample-connector-parent<span class="tag">&lt;/artifactId&gt;</span>
<span class="tag">&lt;version&gt;</span>1.0.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;name&gt;</span>Mule Sample Connector Parent<span class="tag">&lt;/name&gt;</span>
<span class="tag">&lt;packaging&gt;</span>pom<span class="tag">&lt;/packaging&gt;</span>

<span class="tag">&lt;modules&gt;</span>
    <span class="tag">&lt;module&gt;</span>some-util-lib<span class="tag">&lt;/module&gt;</span>
    <span class="tag">&lt;module&gt;</span>rehusable-service-adapter<span class="tag">&lt;/module&gt;</span>
    <span class="tag">&lt;module&gt;</span>mule-connector-sample<span class="tag">&lt;/module&gt;</span>
<span class="tag">&lt;/modules&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In your connector&#8217;s module pom.xml:</p>
</div>
<div class="paragraph">
<p><strong>Connector sibling dependencies</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependencies&gt;</span>
    <span class="tag">&lt;dependency&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>org.mule.modules<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>some-util-lib<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;version&gt;</span>1.0.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
    <span class="tag">&lt;dependency&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>org.mule.modules<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>rehusable-service-adapter<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;version&gt;</span>1.0.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
<span class="tag">&lt;/dependencies&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>It is important to notice that your connector&#8217;s pom inherits from <em>mule-devkit-parent</em>, and that each of the other sub-modules inherits from the project parent. Therefore, you will have:</p>
</div>
<div class="paragraph">
<p><strong>Pom extra modules</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;artifactId&gt;</span>some-util-lib<span class="tag">&lt;/artifactId&gt;</span>
<span class="tag">&lt;packaging&gt;</span>jar<span class="tag">&lt;/packaging&gt;</span>

<span class="tag">&lt;parent&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.mule.modules<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>mule-module-sample-connector-parent<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>1.0.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/parent&gt;</span>
...</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;artifactId&gt;</span>rehusable-service-adapter<span class="tag">&lt;/artifactId&gt;</span>
<span class="tag">&lt;packaging&gt;</span>jar<span class="tag">&lt;/packaging&gt;</span>

<span class="tag">&lt;parent&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.mule.modules<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>mule-module-sample-connector-parent<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>1.0.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/parent&gt;</span>
...</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Connector&#8217;s pom</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;artifactId&gt;</span>mule-connector-sample<span class="tag">&lt;/artifactId&gt;</span>
<span class="tag">&lt;name&gt;</span>Mule Sample Connector<span class="tag">&lt;/name&gt;</span>
<span class="tag">&lt;packaging&gt;</span>mule-module<span class="tag">&lt;/packaging&gt;</span>

<span class="tag">&lt;parent&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.mule.tools.devkit<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>mule-devkit-parent<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>3.6.0<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/parent&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This mix of pom inheritance and agregation allows you to mantain a general parent pom for your secondary modules, and control the compilation in a single point, while leaves the connector with the required devkit-parent pom, making sure that all the other modules will be installed in your local repository before building the connector.</p>
</div>
<div class="paragraph">
<p>In multi-module projects, the deployment of the artifacts will vary depending on the connector&#8217;s category. Rule-of-thumb is that the parent pom and all the secondary modules (not the connector module) should be deployed to a public nexus repository, while the connector artifact will override its parent dependency management configuration with its own repository rules.</p>
</div>
</div>
<div class="sect3">
<h4 id="__strong_avoid_caching_strong">2.3.3. <strong>Avoid caching</strong></h4>
<div class="paragraph">
<p>Connectors should not hold state, unless is strictly necessary. Several APIs are actually hosted in cloud environments, and therefore caching states ends up in having untrusted data in the connector.
There are a few cases where the connector might need to save some data of the current API while working on it, which leads into caching.</p>
</div>
<div class="paragraph">
<p>For those scenarios where the connector needs caching, the following code should be used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// 1) The connector asks for the manager of the Object Store</span>
<span class="annotation">@Inject</span>
<span class="directive">protected</span> ObjectStoreManager objectStoreManager;</code></pre>
</div>
</div>
<div class="paragraph">
<p>And then uses the manager to get/create a custom Object Store as follow:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// 2) The connector asks Mule for the Object Store represented by a &quot;given ID&quot;</span>
ObjectStore&lt;? <span class="directive">extends</span> <span class="predefined-type">Serializable</span>&gt; os = objectStoreManager.getObjectStore(<span class="string"><span class="delimiter">&quot;</span><span class="content">given ID</span><span class="delimiter">&quot;</span></span>);
<span class="comment">// 3) The connector uses it</span>
os.store(<span class="string"><span class="delimiter">&quot;</span><span class="content">key</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Other ways to achieve caching could be through temporal files, but it might depend on the use case.</p>
</div>
</div>
<div class="sect3">
<h4 id="_avoid_spawning_threads">2.3.4. Avoid spawning threads</h4>
<div class="paragraph">
<p>Same as caching, spawning threads is not recommended within a connector as a common API lives in the cloud. This means that a connector will not improve its throughput with more threads, because every communication with the API means more HTTP requests/responses. Although we don&#8217;t recommend using threads, as caching, there might be custom cases where they are actually needed.</p>
</div>
<div class="paragraph">
<p>For those scenarios where the connector needs to spawn threads you should use a <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html">Executor Service</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_reading_resources_from_within_the_connector">2.3.5. Reading resources from within the connector</h4>
<div class="paragraph">
<p>When reading resources that are bundled with the connector, the usual <code>getClass().getResourceAsStream("custom-file-to-read.txt")</code> will work. But, if the file <code>"custom-file-to-read.txt"</code> can actually be parametrized through the Mule application, then other mechanism should be used.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s consider that for your connector, a file can be feeded from the src/main/resources folder (again, this file comes from Studio, not from the connector), the following code should be used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// 1) The connector asks for the manager of the mule context</span>
<span class="annotation">@Inject</span>
<span class="directive">protected</span> MuleContext muleContext;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then reads the resources as follow:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">ClassLoader</span> classLoader = muleContext.getExecutionClassLoader();
<span class="predefined-type">URL</span> resourceURL = classLoader.getResource(<span class="string"><span class="delimiter">&quot;</span><span class="content">custom-file-to-read.txt</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Where <code>"custom-file-to-read.txt"</code> is the file to be read from the Mule app in <code>src/main/resources/custom-file-to-read.txt</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_mule_dependencies">2.3.6. Mule dependencies</h4>
<div class="paragraph">
<p>Adding dependencies in your connector should be carefully considered, since they might collide with Mule.
A few constraints apply, such as:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>When adding Mule artifacts, always use <code>&lt;scope&gt;provided&lt;/scope&gt;</code>.</p>
</li>
<li>
<p>When adding artifacts that might collide with Mule, choose versions that are in the current Mule versios, for what your connector is going to work with. Some of those artifacts are: cxf, jersey, spring, guava, etc.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_shading">2.3.7. Shading</h4>
<div class="paragraph">
<p>For some corner cases, you might need to add a dependency that does collide with Mule either directly or in a transitive dependency. For those scenarios, we strongly recommend to use the same version of the library as Mule does or, if possible, change your library to another one equivalent.
If none of the options above are available, and you still need that custom library that collides with Mule, then shading could work for you. The support for shading has been added in devkit 3.5.3.</p>
</div>
<div class="paragraph">
<p>You need to modify your connector&#8217;s <code>pom.xml</code> file to add the shading plugin in order to achieve two things: 1) add the custom jar into the connector and 2) rename the packages of the library into a new one in order to avoid collisions.</p>
</div>
<div class="paragraph">
<p>For simple cases, were the coliding libraries are explicitly declared (for example, you directly require a different jersey version than the one packaged with mule), shade only those dependencies.</p>
</div>
<div class="paragraph">
<p>The following snippet should work when using a library with the groupId <code>org.some.library</code> and the artifactId <code>custom-artifact-id</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependencies&gt;</span>
    <span class="tag">&lt;dependency&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>org.some.library<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>custom-artifact-id<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;version&gt;</span>${some.lib.version}<span class="tag">&lt;/version&gt;</span> <span class="comment">&lt;!-- version to be included in the connector jar --&gt;</span>
        <span class="comment">&lt;!-- default scope is required--&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
<span class="tag">&lt;/dependencies&gt;</span>

<span class="error">&lt;</span>!- rest of the configuration --<span class="error">&gt;</span>

<span class="tag">&lt;build&gt;</span>
    <span class="tag">&lt;plugins&gt;</span>
        <span class="tag">&lt;plugin&gt;</span>
            <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>maven-shade-plugin<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;version&gt;</span>2.3<span class="tag">&lt;/version&gt;</span>
            <span class="tag">&lt;configuration&gt;</span>
                <span class="comment">&lt;!-- custom shade configuration --&gt;</span>
                <span class="tag">&lt;artifactSet&gt;</span>
                    <span class="tag">&lt;includes&gt;</span>
                        <span class="tag">&lt;include&gt;</span>org.some.library:custom-artifact-id<span class="tag">&lt;/include&gt;</span>
                    <span class="tag">&lt;/includes&gt;</span>
                <span class="tag">&lt;/artifactSet&gt;</span>
                <span class="tag">&lt;relocations&gt;</span>
                    <span class="tag">&lt;relocation&gt;</span>
                        <span class="tag">&lt;pattern&gt;</span>org.some.library<span class="tag">&lt;/pattern&gt;</span>
                        <span class="tag">&lt;shadedPattern&gt;</span>org.some.${some.lib.version}.library<span class="tag">&lt;/shadedPattern&gt;</span>
                    <span class="tag">&lt;/relocation&gt;</span>
                <span class="tag">&lt;/relocations&gt;</span>
             <span class="tag">&lt;/configuration&gt;</span>
        <span class="tag">&lt;/plugin&gt;</span>

        <span class="comment">&lt;!-- Other plugins --&gt;</span>
    <span class="tag">&lt;/plugins&gt;</span>
<span class="tag">&lt;/build&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Some other cases are more complex, since the issue appear with a transitive dependency. Let&#8217;s say you need an sdk <code>my-sdk</code> that uses some other dependency <code>common-lib</code> internally, if then mule uses an incompatible version of this <code>common-lib</code>, Classloader issue might appear.
For this case, you need to shade not only the sdk, but also the transitive dependency, that will now be explicitly declared as follow:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependencies&gt;</span>
    <span class="tag">&lt;dependency&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>org.some.library<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>custom-artifact-id<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;version&gt;</span>${some.lib.version}<span class="tag">&lt;/version&gt;</span> <span class="comment">&lt;!-- version to be included in the connector jar --&gt;</span>
        <span class="comment">&lt;!-- default scope is required--&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>

    <span class="tag">&lt;dependency&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>com.commons.lib<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>commons-utils<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;version&gt;</span>${common.utils.version}<span class="tag">&lt;/version&gt;</span> <span class="comment">&lt;!-- version used by the sdk --&gt;</span>
        <span class="comment">&lt;!-- default scope is required--&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
<span class="tag">&lt;/dependencies&gt;</span>

<span class="tag">&lt;build&gt;</span>
    <span class="tag">&lt;plugins&gt;</span>
        <span class="tag">&lt;plugin&gt;</span>
            <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>maven-shade-plugin<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;version&gt;</span>2.3<span class="tag">&lt;/version&gt;</span>
            <span class="tag">&lt;configuration&gt;</span>
                <span class="comment">&lt;!-- custom shade configuration --&gt;</span>
                <span class="tag">&lt;artifactSet&gt;</span>
                    <span class="tag">&lt;includes&gt;</span>
                        <span class="tag">&lt;include&gt;</span>org.some.library:custom-artifact-id<span class="tag">&lt;/include&gt;</span>
                        <span class="tag">&lt;include&gt;</span>com.commons.lib:commons-utils<span class="tag">&lt;/include&gt;</span>
                    <span class="tag">&lt;/includes&gt;</span>
                <span class="tag">&lt;/artifactSet&gt;</span>
                <span class="tag">&lt;relocations&gt;</span>
                    <span class="comment">&lt;!-- as a best practice, rename packages using the dependency version--&gt;</span>
                    <span class="tag">&lt;relocation&gt;</span>
                        <span class="tag">&lt;pattern&gt;</span>org.some.library<span class="tag">&lt;/pattern&gt;</span>
                        <span class="tag">&lt;shadedPattern&gt;</span>org.some.${some.lib.version}.library<span class="tag">&lt;/shadedPattern&gt;</span>
                    <span class="tag">&lt;/relocation&gt;</span>
                    <span class="tag">&lt;relocation&gt;</span>
                        <span class="tag">&lt;pattern&gt;</span>com.commons.lib<span class="tag">&lt;/pattern&gt;</span>
                        <span class="tag">&lt;shadedPattern&gt;</span>com.commons.${common.utils.version}.lib<span class="tag">&lt;/shadedPattern&gt;</span>
                    <span class="tag">&lt;/relocation&gt;</span>
                <span class="tag">&lt;/relocations&gt;</span>
             <span class="tag">&lt;/configuration&gt;</span>
        <span class="tag">&lt;/plugin&gt;</span>
    <span class="tag">&lt;/plugins&gt;</span>
<span class="tag">&lt;/build&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Further explanation regardin maven-shade-plugin can be found <a href="http://maven.apache.org/plugins/maven-shade-plugin/examples/includes-excludes.html">here</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_connector_structure">2.3.8. Connector Structure</h4>
<div class="paragraph">
<p>If you create your connector project using the DevKit Studio Plugin, the generated project directory layout is the recommended approach.
If you are interested in more details, the project directory structure is described <a href="files/project-directory-layout.html">here</a>.</p>
</div>
<div class="paragraph">
<p>In order to provide automatic enforcement of this rules, the following plugin must be configure as part of the connectors pom.xml. We will be responsible for validating the project structure.</p>
</div>
<div class="paragraph">
<p>Copy and paste the following snippets in your connector pom.xml:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;build&gt;</span>
    ...
    <span class="tag">&lt;plugins&gt;</span>
        ...
       <span class="tag">&lt;plugin&gt;</span>
            <span class="tag">&lt;groupId&gt;</span>org.mule.certification<span class="tag">&lt;/groupId&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>project-structure-validation<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;version&gt;</span>1.0.5<span class="tag">&lt;/version&gt;</span>
            <span class="tag">&lt;executions&gt;</span>
                <span class="tag">&lt;execution&gt;</span>
                    <span class="tag">&lt;phase&gt;</span>package<span class="tag">&lt;/phase&gt;</span>
                    <span class="tag">&lt;goals&gt;</span>
                        <span class="tag">&lt;goal&gt;</span>validate<span class="tag">&lt;/goal&gt;</span>
                    <span class="tag">&lt;/goals&gt;</span>
                <span class="tag">&lt;/execution&gt;</span>
            <span class="tag">&lt;/executions&gt;</span>
        <span class="tag">&lt;/plugin&gt;</span>
        ...
    <span class="tag">&lt;/plugins&gt;</span>
    ...
<span class="tag">&lt;/build&gt;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_devkit_standars_best_practices">2.4. DevKit Standars and Best Practices</h3>
<div class="sect3">
<h4 id="_datamapper_compliance">2.4.1. DataMapper Compliance</h4>
<div class="paragraph">
<p>To have the best experience in Anypoint™ Studio, connectors must be DataMapper compliant. To achieve this, all operations must follow these recommendations.</p>
</div>
<div class="paragraph">
<p>Any argument, returned or received, must be one of the following data types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Map</p>
</li>
<li>
<p>POJO</p>
</li>
<li>
<p>List&lt;Map&gt;</p>
</li>
<li>
<p>List&lt;String&gt;</p>
</li>
<li>
<p>List&lt;POJO&gt;</p>
</li>
<li>
<p>List&lt;List&lt;String&gt;&gt;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These types must be part of the method signature so that DataMapper can auto-recognize the types in it&#8217;s mapping UI.</p>
</div>
<div class="paragraph">
<p><em>Important</em>: Only use a map if you cannot use a POJO.
Only use a map if your data:
. Is schemaless, for example if created using MongoDB.
. Has user customizable schemas, if created with Salesforce.
. Has unknown content.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Good Example</th>
<th class="tableblock halign-left valign-top">Bad Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">List&lt;Map&gt; query()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List&lt;DBObject&gt; query</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void send(Invoice invoice)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">void send(Object object)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Invoice getInvoice(String id)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object get(String id, Class typeToCreate)
</p><p class="tableblock">All operations must have a single object to take input from DataMapper. The object must be a single object, not multiple arguments. This object is called the Primary argument.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Good Example</th>
<th class="tableblock halign-left valign-top">Bad Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void createInvoice(Invoice invoice)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">createInvoice(Header header, List&lt;LineItems&gt; lineItems)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void upsert(List&lt;Map&gt; sobjects, String type, String externalFieldId)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A - Multiple arguments are still needed!</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GetTaxResult getTax(TaxRequest request)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>public GetTaxResult getTax(String companyCode,<br>
    AvalaraDocumentType docType,<br>
    @Optional String docCode,<br>
    Date docDate,<br>
    @Optional String salespersonCode,<br>
    String customerCode,<br>
    @Optional String customerUsageType,<br>
    String discount,<br>
    @Optional String purchaseOrderNo)<br>
</code></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_annotations">2.4.2. Annotations</h4>
<div class="paragraph">
<p>If you have multiple arguments, annotate the Primary argument with:</p>
</div>
<div class="paragraph">
<p><code>@Default("#[payload]")</code></p>
</div>
<div class="paragraph">
<p>This way DataMapper knows which argument in the operation to use for mapping.</p>
</div>
</div>
<div class="sect3">
<h4 id="_no_warning_during_compilation">2.4.3. No Warning during compilation</h4>
<div class="paragraph">
<p>DevKit does a intensive analysis of the used annotations and semantic of them in conjunction with others. It’s important the the code is free of compilation warning to help on the maintainability of the code and to follow good practices.</p>
</div>
</div>
<div class="sect3">
<h4 id="_devkit_generated_api_doc">2.4.4. DevKit Generated API Doc</h4>
<div class="paragraph">
<p>Connector documentation is composed of two different type of documentation: DevKit Generated DevKit API Doc and the Connector Documentation.</p>
</div>
<div class="paragraph">
<p>DevKit API Doc is automatically generated by DevKit based on the JavaDoc documentation at the connector class. This is one of the most important information used by the developer at the time of using the connector.</p>
</div>
</div>
<div class="sect3">
<h4 id="_connectors_code_convention">2.4.5. Connectors Code Convention</h4>
<div class="paragraph">
<p>We provide a file with a recommended code styling format for connectors.  This is an important aspect of the connectors code quality and most of the connectors uses this standar format.
This style can be imported in <strong>Eclipse, Studio and IntelliJ</strong>.</p>
</div>
<div class="paragraph">
<p>Download the Connectors Style Format: <a href="files/connectors-style-convention.xml">Here</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="__config_friendly_names_conventions">2.4.6. @Config friendly names conventions</h4>
<div class="paragraph">
<p>In order to provide consistency across all the connectors, Global Element default name should a follow a convention:
. If there is one single configuration, "Configuration" should be used as friendlyName
. If there is more than one configuration, the following convention should be followed:
.. "OAuth 2.0" for a OAuth configurations
.. In other other case, use a brief descriptions honoring the same terminology used in the system to integrate</p>
</div>
<div class="paragraph">
<p>GlobalElement name is configured using the friendlyName attribute of the configuration class.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_connector_demo_example">2.5. Connector Demo Example</h3>
<div class="paragraph">
<p>A Mule application&#8217;s endpoints allow a user to interact with the service and API using the connector. Endpoints are committed to the GitHub repository along with source code. Use services or API use cases to determine which connector operations to select.</p>
</div>
<div class="paragraph">
<p>Guidelines to follow:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>All demo projects <strong>must</strong> be isolated in a folder with a descriptive name (It does not matter if is just only one demo). Eg: <a href="https://github.com/mulesoft/magento-connector/tree/develop/demo" class="bare">https://github.com/mulesoft/magento-connector/tree/develop/demo</a></p>
</li>
<li>
<p>Use a meaningful name for the project. Avoid things such as "my-connector-demo" or "example-1". This name will be displayed in the ApiDoc site. Eg: <a href="http://mulesoft.github.io/salesforce-connector/" class="bare">http://mulesoft.github.io/salesforce-connector/</a></p>
</li>
<li>
<p>The demo name <strong>must</strong> have middle lines to separate the words in it and must be in lower case. example: "mail-service-demo"</p>
</li>
<li>
<p>Don&#8217;t add prefix such as "mule" or "app". Just the purpose of it.</p>
</li>
<li>
<p>Ensure that an app can be run by entering credentials without additional configuration or connector installation.</p>
</li>
<li>
<p>Use placeholders for credentials.</p>
</li>
<li>
<p>Ensure that flow names and message processors display names that make the use case easy to understand.</p>
</li>
<li>
<p>Provide instructions on how to run the app in a README file (for example, <a href="https://github.com/mulesoft/s3-connector/tree/develop/demo/S3-connector-demo">S3</a>). It is recommended to add in a description of the demo application, such as what it aims to demonstrate and what each step of the demo is responsible for. Where application, you can also mention where your demo fits in a larger usecase.</p>
</li>
<li>
<p>Expose a set of endpoints that the user can access following the steps in the README to reproduce a use case.</p>
</li>
<li>
<p>Consider implementing a CRUD (or similar) use case with chained processors whose payloads get logged into the Studio console (for example, <a href="https://github.com/mulesoft/s3-connector/tree/develop/demo/S3-connector-demo">S3</a>).</p>
</li>
<li>
<p>Use DataMapper for Standard or Premium connectors' CRUD (or a similar) use case if API methods attributes and/or return types allow it.</p>
</li>
<li>
<p>Consider basic error handling in the Mule app.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There are two kinds of demos that you can create:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Single operation demos</p>
</li>
<li>
<p>Workflow demos</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Single operation demos are used to invoke just one operation in the connector. Workflow demos are used to invoke a number of operations in the connector sequentially. These aim to show a simple usecase of the connector, such as a normal CRUD workflow. We provide two templates to help you create an interface for your demo, one for each kind of demo. You can find the template for single operation demos <a href="files/single-operation-demo-template.html">here</a> and the template for the workflow demos <a href="files/workflow-demo-template.html">here</a>.</p>
</div>
<div class="paragraph">
<p>The demo HTML pages above make use of Twitter Bootstrap to present a clean interface to the user. You should base your demo on this template. If you are not familiar with the Twitter Bootstrap library, it is highly suggested to look at <a href="http://getbootstrap.com/getting-started/">their documentation page</a>. Single operation demos only provide a form, whereas workflow demos provide an accordion, where one step leads to the next. In the latter case, any values retrieved by the first step should be used to autofill values in the second step where possible.</p>
</div>
<div class="paragraph">
<p>As an example, let us take a CRUD workflow for a number of Twitter API calls. The first step will create a tweet and return a number of values pertaining to the tweet that was created. One of these values would be the Tweet ID. The second step would be the "read" operation. The tweet ID should be automatically filled in the second step so that the user is simply able to submit a "read" API call without any needed input. The final step of the workflow should present an alert (or a notification of some sort), that the workflow has ended, outputting any relevant information from the last step. An example of this would be a "Tweet Deleted" message if the workflow was completed successfully, and the tweet that was created in the first step is successfully removed.</p>
</div>
<div class="paragraph">
<p>The following code snippets explain some parts of the above HTML page.
The demo contains 3 parts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The JavaScript that handles asynchronous calls to the demo running on a Mule instance.</p>
</li>
<li>
<p>The CSS that renders the HTML page</p>
</li>
<li>
<p>The HTML itself</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>The JavaScript</strong></p>
</div>
<div class="paragraph">
<p>The JavaScript for this demo is simply used to send AJAX calls to a Mule server that hosts your demo application. In the case of workflow demos, it is also used to collapse the accordions as the user goes from one step to the next.</p>
</div>
<div class="paragraph">
<p>Initially, a reference to the &lt;div&gt; and &lt;form&gt; elements is obtained.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="keyword">var</span> createDiv   = <span class="predefined">$</span>(<span class="string"><span class="delimiter">'</span><span class="content">#createDiv</span><span class="delimiter">'</span></span>);
<span class="keyword">var</span> readDiv     = <span class="predefined">$</span>(<span class="string"><span class="delimiter">'</span><span class="content">#readDiv</span><span class="delimiter">'</span></span>);
<span class="keyword">var</span> updateDiv   = <span class="predefined">$</span>(<span class="string"><span class="delimiter">'</span><span class="content">#updateDiv</span><span class="delimiter">'</span></span>);
<span class="keyword">var</span> deleteDiv   = <span class="predefined">$</span>(<span class="string"><span class="delimiter">'</span><span class="content">#deleteDiv</span><span class="delimiter">'</span></span>);

<span class="keyword">var</span> createForm  = <span class="predefined">$</span>(<span class="string"><span class="delimiter">'</span><span class="content">#createForm</span><span class="delimiter">'</span></span>);
<span class="keyword">var</span> readForm    = <span class="predefined">$</span>(<span class="string"><span class="delimiter">'</span><span class="content">#readForm</span><span class="delimiter">'</span></span>);
<span class="keyword">var</span> updateForm  = <span class="predefined">$</span>(<span class="string"><span class="delimiter">'</span><span class="content">#updateForm</span><span class="delimiter">'</span></span>);
<span class="keyword">var</span> deleteForm  = <span class="predefined">$</span>(<span class="string"><span class="delimiter">'</span><span class="content">#deleteForm</span><span class="delimiter">'</span></span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, each form is paired with a jQuery function sends an AJAX request whenever a form is submitted.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">createForm.submit(<span class="keyword">function</span>() {
  <span class="predefined">$</span>.ajax({
    <span class="key">type</span>: <span class="string"><span class="delimiter">'</span><span class="content">POST</span><span class="delimiter">'</span></span>,                             <span class="comment">// Submit an HTTP POST request</span>
    <span class="key">url</span>: <span class="string"><span class="delimiter">'</span><span class="content">/create</span><span class="delimiter">'</span></span>,                           <span class="comment">// The URL where your endpoint is listening</span>
    <span class="key">data</span>: createForm.serialize(),             <span class="comment">// Serialized form URL-encoded input</span>
    <span class="function">success</span>: <span class="keyword">function</span>(data) {                 <span class="comment">// Success function called if request succeeds</span>

      <span class="predefined">$</span>(<span class="string"><span class="delimiter">'</span><span class="content">input[name=message]</span><span class="delimiter">'</span></span>).val(data.message); <span class="comment">// Autofill data in the next workflow step as needed</span>

      createDiv.collapse(<span class="string"><span class="delimiter">'</span><span class="content">hide</span><span class="delimiter">'</span></span>);             <span class="comment">// Hide current accordion window</span>
      readDiv.collapse(<span class="string"><span class="delimiter">'</span><span class="content">show</span><span class="delimiter">'</span></span>);               <span class="comment">// Show next accordion window</span>
    },
    <span class="function">error</span>: <span class="keyword">function</span>(request, status, error){  <span class="comment">// Error function is executed if an exception occurs in the flow</span>
      alert(request.responseText);            <span class="comment">// Alert the user of any errors</span>
    }
  });

  <span class="keyword">return</span> <span class="predefined-constant">false</span>;                               <span class="comment">// Let jQuery handle the form submission</span>
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the case of a workflow demo, every form will represent a step in the workflow. The above code snippet should be repeated for every form you have in your workflow, applying changes as needed.</p>
</div>
<div class="paragraph">
<p><strong>The CSS</strong></p>
</div>
<div class="paragraph">
<p>The HTML page linked above comes with a number of CSS presets that you can use throughout your demo. A number of Bootstrap CSS classes are also used to build the accordion and the panels within it. For more information on how to build your own accordion, or even extend the one in the HTML template, please refer to the <a href="http://getbootstrap.com/javascript/#collapse-example-accordion">Bootstrap Accordion documentation page</a>.</p>
</div>
<div class="paragraph">
<p><strong>The HTML</strong></p>
</div>
<div class="paragraph">
<p>This part is what ties everything together. The HTML represents what your users will see when they open your demo to use your connector. Take this HTML snippet as an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="html"><span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">panel-group</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">accordion</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">panel panel-default</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">panel-heading</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
            <span class="tag">&lt;h2</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">panel-title demo-heading</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
                <span class="tag">&lt;a</span> <span class="attribute-name">data-toggle</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">collapse</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">data-parent</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#accordion</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#createDiv</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>Create<span class="tag">&lt;/a&gt;</span>
            <span class="tag">&lt;/h2&gt;</span>
        <span class="tag">&lt;/div&gt;</span>
        <span class="tag">&lt;div</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">createDiv</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">panel-collapse collapse in</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
            <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">panel-body</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
                <span class="tag">&lt;form</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">createForm</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">demo-form</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">role</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form</span><span class="delimiter">&quot;</span></span> <span class="tag">&gt;</span>
                    <span class="tag">&lt;label&gt;</span>Message<span class="tag">&lt;/label&gt;</span>
                    <span class="tag">&lt;input</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">text</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">message</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Hello from Mule!</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">required</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">form-control</span><span class="delimiter">&quot;</span></span> <span class="tag">&gt;</span><span class="tag">&lt;br&gt;</span>
                    <span class="tag">&lt;input</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">btn btn-lg btn-primary btn-block</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">submit</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Create</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;br&gt;</span>
                <span class="tag">&lt;/form&gt;</span>
            <span class="tag">&lt;/div&gt;</span>
        <span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
    ...
<span class="tag">&lt;/div&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The above snippet of HTML is taken from the workflow demo template, it represents a single panel in the accordion. This panel is split into two parts: the header and the content. The header refers to the content through the anchor tag (&lt;a&gt;). When this header is clicked, the content is shown. On the other hand, the content is composed of a simple form that is used to submit requests to Mule. These requests are handled by the JavaScript shown above.</p>
</div>
<div class="paragraph">
<p>For a complete example of a workflow demo, you can download a sample project that uses MongoDB <a href="files/workflow-operations-demo.zip">here</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_third_party_licenses">2.6. Third-Party Licenses</h3>
<div class="paragraph">
<p>As part of the certification, it&#8217;s important to validate that all the libraries used by the connector are Open Source friendly. A easy way to generated a report of this, is running the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mvn org.codehaus.mojo:license-maven-plugin:1.8:aggregate-add-third-party</pre>
</div>
</div>
<div class="paragraph">
<p>The current list of licenses approved for use by third-party code redistributed with Community Connector projects is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Apache Software License 1.1</p>
</li>
<li>
<p>Apache Software License 2.0</p>
</li>
<li>
<p>W3C Software License</p>
</li>
<li>
<p>Common Public License Version 1.0</p>
</li>
<li>
<p>IBM Public License 1.0</p>
</li>
<li>
<p>Mozilla Public License Version 1.1</p>
</li>
<li>
<p>Common Development and Distribution License (CDDL) Version 1.0</p>
</li>
<li>
<p>GNU Free Documentation License Version 1.3</p>
</li>
<li>
<p>BSD</p>
</li>
<li>
<p>MIT</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Licenses that are not approved for use include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GNU GPL 2.0</p>
</li>
<li>
<p>GNU LGPL</p>
</li>
<li>
<p>Sun Binary Code License Agreement</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_open_source_compliance_checklist">2.6.1. Open Source Compliance Checklist</h4>
<div class="paragraph">
<p>Check that :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>No not approved for use third-party libraries are been distributed with your project</p>
</li>
<li>
<p>There are no dependencies with no license</p>
</li>
<li>
<p>Approved third-party are compliant with their license requirements</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_connector_icon">2.7. Connector Icon</h3>
<div class="paragraph">
<p>We recommend your connector have a consistent look-and-feel with existing connectors in Anypoint Studio. You can replace existing icons in {your connector project}/icons with proper ones.</p>
</div>
<div class="paragraph">
<p><strong>Example: Slack Connector</strong></p>
</div>
<div class="paragraph">
<p>Slack Small Icon</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/slack-connector-24x16.png" alt="slack connector 24x16">
</div>
<div class="title">Figure 1. Slack Small Icon</div>
</div>
<div class="paragraph">
<p>Slack Large Icon</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/slack-connector-48x32.png" alt="slack connector 48x32">
</div>
<div class="title">Figure 2. Slack Large Icon</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_static_code_analysis_and_coverage">3. Static Code Analysis and Coverage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Most automatic validations on your connector’s code are done with SonarQube, an open source static code analysis tool that helps developers identify hot spots in code, bad code quality, technical debt, as well as define a number of other issues. To release a connector, you must fix blocker and critical issues.</p>
</div>
<div class="paragraph">
<p>To perform these validations yourself, install and configure a the SonarQube server that we provide with rules specific to the certification process. If you are certifying multiple connectors, you can reuse the same server.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
For guidelines on how to build your tests using this framework, see <a href="#_functional_tests_automation">Automated Functional Testing</a>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_installing_sonarqube">3.1. Installing SonarQube</h3>
<div class="paragraph">
<p>The quickest way to get SonarQube up and running is to install it locally with an embedded database. If you wish to use a standalone database or a more advanced configuration, see the related SonarQube Eclipse Plugin Setup documentation.</p>
</div>
<div class="paragraph">
<p>You need a server running Oracle JRE 6 or higher. (OpenJRE or other distributions are not supported by SonarQube.)</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download and extract the latest version of <a href="http://www.sonarqube.org/downloads">SonarQube</a>(all platforms).</p>
</li>
<li>
<p>Run <em>&lt;installDir&gt;/bin/&lt;yourOS&gt;/sonar.sh start</em> or <em>&lt;installDir&gt;\bin\&lt;yourOS&gt;\StartSonar.bat</em> if on Windows. The server might take a while to start even after the “Started SonarQube” message appears.</p>
</li>
<li>
<p>Browse to <a href="http://localhost:9000" class="bare">http://localhost:9000</a>.</p>
</li>
<li>
<p>Log in with the following credentials:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Username: admin</p>
</li>
<li>
<p>Password: admin</p>
</li>
</ol>
</div>
</li>
<li>
<p>Download our <a href="files/quality-profile.xml">Custom Quality Profile</a></p>
</li>
<li>
<p>Go to the <strong>Quality Profiles</strong> tab and Click <strong>Create</strong>.</p>
</li>
<li>
<p>Then choose the <strong>Quality Profile</strong> file that you downloaded, name it "Anypoint Connectors Profile" and click <strong>Create</strong>.</p>
</li>
<li>
<p>When you see the profile in the list click in <strong>Set as Default</strong>.</p>
</li>
<li>
<p>Finally you need to set the exclusions, to set this go to <strong>Settings</strong> and click <strong>Exclusions</strong>.</p>
</li>
<li>
<p>In the <strong>Code Coverage</strong> tab add <em>target/**</em></p>
</li>
<li>
<p>Click <strong>Add Value</strong>  and click <strong>Save Code Coverage Settings</strong>.</p>
</li>
<li>
<p>In the <strong>Files</strong> tab add <em>target/**</em> under <em>Global Source File Exclusions</em> and <em>Global Test File Exclusions</em>.</p>
</li>
<li>
<p>Finally, click <strong>Add Value</strong> in both and click <strong>Save Files Settings</strong>.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/sonar-01.png" alt="sonar 01">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_performing_your_first_analysis">3.2. Performing Your First Analysis</h3>
<div class="paragraph">
<p>For the first run of your project, go to the project’s root folder and run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent test
	-Dmaven.test.failure.ignore=true -Dtest="*TestSuite,*Test"
	-D&lt;connector&gt;_CREDENTIALS=automation-credentials.properties
	&amp;&amp; mvn install &amp;&amp; mvn sonar:sonar

mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent
	install-Dmaven.test.failure.ignore=true &amp;&amp; mvn sonar:sonar</pre>
</div>
</div>
<div class="paragraph">
<p>This creates the project in your sonar installation, allowing you to use the Eclipse SonarQube plugin from inside your Anypoint™ Studio. Using this plugin is the recommended way, but is always possible to run the inspections manually with * mvn sonar:sonar *.</p>
</div>
<div class="paragraph">
<p>If you are experiencing false positive issues, you can disable the inspection using //NOSONAR comment at the end of a line which has the issue on a case-by-case basis. Every use of //NOSONAR is recorded by SonarQube as an Info issue so you can track its usage in your connector’s code.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The use of <strong>//NOSONAR</strong> comments should only be used when there is full certainty that this inspection is a false positive.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For example, suppose you have an incorrectly capitalized method that you can’t change. This is normally a blocker issue:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/sonar-1.png" alt="sonar 1">
</div>
</div>
<div class="paragraph">
<p>After adding the <strong>//NOSONAR</strong> marker, this is no longer a blocker issue, but is marked as Info so you can track the usage of //NOSONAR throughout your project:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/sonar-2.png" alt="sonar 2">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_sonarqube_eclipse_plugin_setup">3.3. SonarQube Eclipse Plugin Setup</h3>
<div class="ulist">
<ul>
<li>
<p>Open Anypoint™ Studio, then select Help &gt; Install New Software.</p>
<div class="imageblock">
<div class="content">
<img src="images/sonar-3.png" alt="sonar 3">
</div>
</div>
</li>
<li>
<p>In the Work with text box, fill in the update site URL:
SonarQube Integration for Eclipse (update-site) - <a href="http://downloads.sonarsource.com/eclipse/eclipse/" class="bare">http://downloads.sonarsource.com/eclipse/eclipse/</a></p>
<div class="imageblock">
<div class="content">
<img src="images/sonar-4.png" alt="sonar 4">
</div>
</div>
</li>
<li>
<p>Check the SonarQube Java option.</p>
</li>
<li>
<p>After completing the installation, restart Anypoint™ Studio.</p>
</li>
<li>
<p>Open Anypoint™ Studio’s preferences, and browse to the SonarQube section. Expand it, and select the Servers subsection. Click Add and fill in the URL and credentials for your server (by default, admin/admin).</p>
<div class="imageblock">
<div class="content">
<img src="images/sonar-5.png" alt="sonar 5">
</div>
</div>
<div class="paragraph">
<p>Click the <strong>Test connection</strong> button to ensure that your settings are correct.</p>
</div>
</li>
<li>
<p>To associate your project on the SonarQube server, perform a full analysis once. You can do this by running mvn sonar:sonar in your Connector project.</p>
<div class="paragraph">
<p>You should perform this full analysis from a machine that is on the same network as the SonarQube database, otherwise it might take very long to complete.</p>
</div>
<div class="paragraph">
<p>When your project finishes analyzing, in Studio right-click your connector project and click <strong>Configure &gt; Associate with SonarQube</strong>. Because your project was analyzed with Maven, the association detects automatically.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/sonar-6.png" alt="sonar 6">
</div>
</div>
</li>
<li>
<p>After association, your project is analysed with SonarQube and the results are shown on the SonarQube issues tab. Also, the Package Explorer and file editor display error and warning icons according to the issues on your project.</p>
<div class="paragraph">
<p>New issues introduced since the previous analysis are marked as errors, while existing issues are marked as warnings. This is a cosmetic difference only, which helps to highlight new technical debt being introduced in your code before you check it in.</p>
</div>
</li>
<li>
<p>To analyse your project again, right-click it and click <strong>SonarQube &gt; Analyse</strong>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_quality_profile_rules">3.4. Quality Profile Rules</h3>
<div class="paragraph">
<p>SonarQube classifies each issue with a severity:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Blocker &amp; Critical: Bugs or unacceptable programming practices. Your connector cannot have blocker or Critical issues to be certified. You must correct all issues.</p>
</li>
<li>
<p>Major:  These inspections fall in a similar category to the critical issues but with lower priority.</p>
</li>
<li>
<p>Minor: Correctness, clarity or performance issues that do not impact your connector’s functionality significantly.</p>
</li>
<li>
<p>Info: Keeps track of useful information that might otherwise go unnoticed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To see the full list of rules checked by SonarQube, browse to the Anypoint™ Connectors Certification quality profile through the web UI.</p>
</div>
</div>
<div class="sect2">
<h3 id="_code_coverage">3.5. Code Coverage</h3>
<div class="paragraph">
<p>SonarQube also lets you manage Code Coverage reports of your connector.</p>
</div>
<div class="paragraph">
<p>Generate a code coverage report in SonarQube with this command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent install
	-Dmaven.test.failure.ignore=true &amp;&amp; mvn sonar:sonar</pre>
</div>
</div>
<div class="paragraph">
<p>After this command finishes executing, Sonar displays a report with the name of your connector. For example, this screenshot shows the Salesforce connector’s Sonar report after running every Unit test and Functional test:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/coverage-guidelines-1.png" alt="coverage guidelines 1">
</div>
</div>
<div class="paragraph">
<p>Delving further into the project details shows you a code coverage percentage on a per-class basis.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/coverage-guidelines-2.png" alt="coverage guidelines 2">
</div>
</div>
<div class="paragraph">
<p>Delving even further, it shows you the exact lines that are covered by tests and those that are not.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/coverage-guidelines-3.png" alt="coverage guidelines 3">
</div>
</div>
<div class="paragraph">
<p>Every connector method must have unit or automation tests. A connector fails certification if it does not have all its message processors, message sources, and custom transformers covered by unit tests or automation tests. Also, all the utility classes that are part of a connector must have a high level of code coverage.</p>
</div>
<div class="sect3">
<h4 id="_code_coverage_must_be_no_less_than_70">3.5.1. Code coverage must be no less than 70%.</h4>
<div class="paragraph">
<p>Testing your processors gives you a good indication of the quality of your connector. When you build automation tests, you are using your own connector to connect to an API. If you find it hard to test all cases of a message processor, then consider separating your message processors into smaller ones, if possible.</p>
</div>
<div class="paragraph">
<p>If your connector bases its processing around metadata, test every possible metadata entry that the API supports. As an example, the Salesforce connector supports multiple SFDC objects (such as Account, Contact, Lead etc.), but it only contains one “create” operation. Create a unit test for every metadata object to ensure proper compatibility with the message processor.</p>
</div>
</div>
<div class="sect3">
<h4 id="_ignoring_classes_from_testing">3.5.2. Ignoring Classes from Testing</h4>
<div class="paragraph">
<p>You should <strong>NEVER</strong> prevent classes from being tested unless there is good reason. If you feel that there is a need to ignore classes from inspection, contact either Mariano Quintela, or Paulo Gustavo Veiga. Unless explicitly stated in the code comments or in some form of internal documentation, assume that all code must be inspected. Any ignored classes or packages without proper explanation should be inspected and any blocker or critical issues that arise should be resolved, <strong>and tested</strong> by the developer before the connector is released.</p>
</div>
<div class="paragraph">
<p>There are a number of ways of ignoring classes that you do not want inspected by SonarQube:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Method level ignore:</p>
<div class="ulist">
<ul>
<li>
<p>Methods can be ignored by adding a //NOSONAR comment next to the method declaration. Example:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> someMethodToNotInspect() { <span class="comment">//NOSONAR</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Class level ignore</p>
<div class="ulist">
<ul>
<li>
<p>It may be the case that whole classes need to be ignored because they’re not in the control of the developer. As an example, the SFDC Connector contains classes from the SFDC JAR. These had to be modified slightly to include no-args constructors for DataSense reasons. As a result, these classes have to be ignored since the code quality is not in control of the SFDC Connector developer.</p>
</li>
<li>
<p>Classes can be completely ignored by adding // NOSONAR next to the class level definition. Example:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">MyClassThatShouldntBeInspected</span> { <span class="comment">// NOSONAR</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Package level ignore</p>
<div class="ulist">
<ul>
<li>
<p>Whole packages can be ignored by adding the “sonar.exclusions” property inside the pom.xml file. Example:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;properties&gt;</span>
        <span class="tag">&lt;sonar.exclusions&gt;</span>src/main/java/com/sforce/**/*<span class="tag">&lt;/sonar.exclusions&gt;</span>
<span class="tag">&lt;/properties&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This ignores any file under the com.sforce package under src/main/java.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_code_quality_review_guideline">3.6. Code Quality Review Guideline</h3>
<div class="paragraph">
<p>This is a hard area to tackle because typically, the person running certification is different from the one implementing the connector and writing tests for it. As a result, you might inspect the code and be completely lost.</p>
</div>
<div class="paragraph">
<p>If code documentation is not sufficient, point this out to the developer and PM.</p>
</div>
<div class="paragraph">
<p>As you try to understand the code, you might run into certain code pieces that you’re not sure why they’re there. As an example, PeopleSoft contained synchronous code and some time was spent by the developer understanding why they were there. It turns out that they were not needed, and were causing a degree of locking when working with concurrent requests. If you think that there are code blocks that feel out of place, mention it to the developer or PM.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_functional_tests_automation">4. Tests Automation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section explains how to automate test cases for Anypoint MuleSoft Connectors. Tests are <em>Functional Tests</em>, <em>System Tests</em> or <em>Unit Tests</em> depending which aspect of the connector is being tested.</p>
</div>
<div class="paragraph">
<p>Functional tests aim at testing the connector with a particular Mule runtime environment, thus assuring backward and forward compatibility. System tests group those aspects were a connection is needed but no underlying Mule runtime is required, such as when testing valid/invalid credentials or different connection configurations. Finally, unit tests aim at verifying isolated components, or units, of the connector which do not require a valid connection nor a Mule runtime.</p>
</div>
<div class="paragraph">
<p>Once all tests have been engineered, a final test execution step is required. This execution step requires to run functional tests with different Mule runtimes configurations, run System tests with valid/invalid credentials and finally run unit tests.</p>
</div>
<div class="sect2">
<h3 id="_how_to_start">4.1. How to Start?</h3>
<div class="paragraph">
<p>There are different aspects to tests:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Processors:</strong> For each processor, a functional test is required.</p>
</li>
<li>
<p><strong>MetaData:</strong> MetaData requires functional tests as well, but employing a slightly different approach than processors.</p>
</li>
<li>
<p><strong>Pagination:</strong> If the connector implements @Paged processors, then pagination has to be tested.</p>
</li>
<li>
<p><strong>Test Connectivity:</strong> Every connection configuration has to be tested with valid/invalid credentials, wrong configuration values, etc.</p>
</li>
<li>
<p><strong>WSDL Operations:</strong> Testing WSDL operations is required <strong>ONLY</strong> when your connector is SOAP Connect. As with MetaData, testing these kind of operations require a different approach than processors.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For functional tests, DevKit Plugin generates functional tests scaffolding, as explained <a href="https://developer.mulesoft.com/docs/display/current/Developing+DevKit+Connector+Tests">here</a>. This scaffolding generates a functional test per available processor, which covers the functional testing part. System and Unit tests need to be written entirely from scratch.</p>
</div>
</div>
<div class="sect2">
<h3 id="_best_practices_2">4.2. Best Practices</h3>
<div class="paragraph">
<p>Before starting, there are a few best practices when engineering test cases:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Always clean the connector sandbox after running either Functional or System tests.</p>
</li>
<li>
<p><strong>setup():</strong> If @Before behavior is required, this method must be defined and annotated accordingly.</p>
</li>
<li>
<p><strong>tearDown():</strong> If @After behavior is required, this method must be defined and annotated accordingly. Normally all <em>cleaning behaviour</em> regarding the sandbox should go here.</p>
</li>
<li>
<p><strong>.gitignore:</strong> Automations credentials and any sensitive data should be added to this file to avoid any mistake when committing the connector project.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_functional_tests">4.3. Functional Tests</h3>
<div class="paragraph">
<p>Functional tests aim at assuring the correct behavior of the connector within a particular Mule runtime environment, particular testing how well the connector integrates with Mule architecture.</p>
</div>
<div class="paragraph">
<p>Functional testing is a <em>mandatory</em> step within the certification process and need to be carried out following strict practices, who are detailed throughout this section.</p>
</div>
<div class="sect3">
<h4 id="_intro">4.3.1. Tests Organization</h4>
<div class="paragraph">
<p>Functional tests need to be engineered and organized as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Test Suites:</strong> <em>FunctionalTestSuite</em> groups all functional tests with no exception. In case two or more test suites are required (when grouping semantic similar tests for instance), a <em>FullFunctionalTestSuite</em> need to be used, grouping the remaining test suites.</p>
</li>
<li>
<p><strong>Naming Convention:</strong> Functional tests must end with <em>TestCases</em>. Employing alternatives ending names is discouraged, specially endings such as <em>Test</em> or <em>TestCase</em>.</p>
</li>
<li>
<p><strong>Test Categories:</strong> Tests categories might be used if needed, although are discouraged. However, if used, they need to be named as <em>FunctionalTest.class</em>.</p>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
When not using test categories, a test suite might use <strong>@RunWith(Suite.class)</strong> before the list of classes within the suite itself. Thus, all listed test classes are executed and any test category is needed.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_packages_and_files">4.3.2. Packages and Files</h4>
<div class="paragraph">
<p>Test files need to be kept in specific packages as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>org.mule.modules.&lt;connector-project&gt;.automation.runner</strong> contains the test runner (FunctionalTestSuite).</p>
</li>
<li>
<p><strong>org.mule.modules.&lt;connector-project&gt;.automation.functional</strong> contains the functional test cases exclusively.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_test_data">4.3.3. Test Data</h4>
<div class="paragraph">
<p>Test data must be contained within a <em>org.mule.modules.&lt;connector-project&gt;.automation.functional.TestDataBuilder.java</em> class. This test data builder must generate all necessary test data for every single functional test. Developers are free to use whatever data input techniques within this data builder (JSON, Beans, etc.).</p>
</div>
<div class="paragraph">
<p>It is advisable to avoid binding test data with test cases and keep all test data generation within the test data builder.</p>
</div>
</div>
<div class="sect3">
<h4 id="_connector_testing_framework">4.3.4. Connector Testing Framework</h4>
<div class="paragraph">
<p>The main objective is to test the connector with different Mule runtime environments through the Connector Testing Framework, allowing to detect possible conflicts, such as class loading issues. The default functional testing framework is called CTF (<em>Connector Testing Framework</em>).</p>
</div>
<div class="paragraph">
<p>Documentation of the Connector Testing Framework is available <a href="http://mulesoft.github.io/connector-testing-framework/">here</a>. This framework eases the creation of connector functional tests, where the developer is not necessarily involved with Mule&#8217;s internals, such as flows, configurations and Spring beans. The objective of this framework is twofold. On the one hand, we decouple how Mule works and how functional tests are written. On the other hand, we enable a runtime platform to run connector tests with multiple Mule versions by executing the tests in remote Mule instances, achieving a decoupled runtime environment.</p>
</div>
<div class="paragraph">
<p>Any other approach for carrying out functional tests is highly discouraged. However, certain aspects of functional testing is not cover within CTF and thus custom approaches might be used. The following sections described which aspects can and can not be tested with CTF.</p>
</div>
</div>
<div class="sect3">
<h4 id="_framework_and_test_suite_components">4.3.5. CTF Components</h4>
<div class="paragraph">
<p>All functional test cases classes must extend from a AbstractTestCase&lt;T&gt;, which is parametrized with the connector type under tests.</p>
</div>
<div class="paragraph">
<p><strong>AbstractTestCase&lt;T&gt;.java</strong> is found within <em>org.mule.tools.devkit.ctf.junit</em> and implements all the initialization and shut down of the CTF by means of @BeforeClass and @AfterClass methods. <strong>Extending from this class is mandatory</strong>, since it assures the correct use of the CTF.</p>
</div>
<div class="paragraph">
<p>Every test case needs to be named as &lt;OperationName&gt;TestCases. These naming conventions avoid Maven to automatically run test cases, since tests require credentials and therefore automatically running them without the proper set of credentials will produce tests to fail.</p>
</div>
<div class="sect4">
<h5 id="__em_operationname_testcases_em_class"><em>&lt;OperationName&gt;TestCases</em> Class</h5>
<div class="paragraph">
<p>Each connector operation, which has its own processor, has an <strong>&lt;OperationName&gt;TestCases.java</strong> class that contains its related test cases.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> ...
<span class="include">import</span> <span class="include">org.mule.tools.devkit.ctf.junit.AbstractTestCase</span>;

<span class="directive">public</span> <span class="type">class</span> &lt;<span class="class">OperationName</span>&gt;TestCases <span class="directive">extends</span> &lt;&lt;ConnectorClass&gt;&gt;AbstractTestCase {

   <span class="comment">// private attributes used as auxiliary fields for storing test run values</span>
   <span class="directive">private</span> <span class="predefined-type">Integer</span> leadRecordId;

   <span class="comment">// Use to create required data for the test.</span>
   <span class="annotation">@Before</span>
   <span class="directive">public</span> <span class="type">void</span> setUp() <span class="directive">throws</span> <span class="exception">Exception</span> {
     ...
   }

   <span class="comment">//returns the sandbox to its original state</span>
   <span class="annotation">@After</span>
   <span class="directive">public</span> <span class="type">void</span> tearDown() <span class="directive">throws</span> <span class="exception">Exception</span> {
      ...
   }

   <span class="comment">//Method that invokes the connector operation under test and asserts on the return value.</span>
   <span class="annotation">@Test</span>
   <span class="directive">public</span> <span class="type">void</span> &lt;testName&gt; <span class="directive">throws</span> <span class="exception">Exception</span> {
     <span class="comment">// Test code</span>
     <span class="comment">// Assertions</span>
   }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The exception might be managed within the test case if the required information is available or it might be thrown.</p>
</div>
</div>
<div class="sect4">
<h5 id="__em_a_href_connectorclass_connectorclass_a_abstracttestcase_em_class"><em><a href="#ConnectorClass">[ConnectorClass]</a>AbstractTestCase</em> Class</h5>
<div class="paragraph">
<p>In case a sub-parent is needed, it must be named as <a href="#ConnectorClass">[ConnectorClass]</a>AbstractTestCase, which will extend from CTF AbstractTestCase and add the required behavior, such as @Before and @After methods.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> ...
<span class="include">import</span> <span class="include">org.mule.tools.devkit.ctf.junit.AbstractTestCase</span>;

<span class="type">class</span> &lt;&lt;<span class="class">ConnectorClassName</span>&gt;&gt;AbtractTestCases <span class="directive">extends</span> AbstractTestCase&lt;ConnectorClass&gt; {

   <span class="directive">public</span> &lt;&lt;ConnectorClassName&gt;&gt;AbtractTestCases(){
     <span class="comment">//This is required if running single tests as well as a test suite</span>
     <span class="local-variable">super</span>(ConnectorClass.class);
   }

   <span class="annotation">@Before</span>
   <span class="directive">public</span> <span class="type">void</span> setUp() <span class="directive">throws</span> <span class="exception">Exception</span> {
     ...
   }


   <span class="annotation">@After</span>
   <span class="directive">public</span> <span class="type">void</span> tearDown() <span class="directive">throws</span> <span class="exception">Exception</span> {
      ...
   }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="__em_functionaltestsuite_em_class"><em>FunctionalTestSuite</em> Class</h5>
<div class="paragraph">
<p>This suite groups all functional tests with no exception and also manages the lifecycle of the Mule platform.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">FunctionalTestSuite</span> {

    <span class="annotation">@BeforeClass</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> initialiseSuite() {
        ConnectorTestContext.initialize(&lt;ConnectorName&gt;.class);
    }

    <span class="annotation">@AfterClass</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> shutdownSuite() <span class="directive">throws</span> <span class="exception">Exception</span> {
        ConnectorTestContext.shutDown();
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_ctf_em_connector_em_and_em_dispatcher_em">CTF <em>Connector</em> and <em>Dispatcher</em></h5>
<div class="paragraph">
<p>The AbstractTestCase class provides getters for the following objects:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Connector:</strong> This CTF component enables testing on every connector processor, mocking the real connector under tests. Thus, all the underlying Mule logic is kept within CTF and not exposed to the test developer.</p>
</li>
<li>
<p><strong>Dispatcher:</strong> This second CTF component enables testing on particular aspects of a connector, such as <em>Pagination</em>, <em>WSDL Operations</em> and <em>MetaData</em>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Both objects are properly documented within CTF documentation <a href="http://mulesoft.github.io/connector-testing-framework/">here</a>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_test_methods">4.3.6. Topics to Test using CTF</h4>
<div class="paragraph">
<p>CTF enables testing of the following aspects:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Processors</strong></p>
</li>
<li>
<p><strong>MetaData</strong></p>
</li>
<li>
<p><strong>WSDL Operations</strong></p>
</li>
<li>
<p><strong>Pagination</strong></p>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
We will use throughout these examples the <em>CookBook Connector</em>, a test connector available <a href="http://mulesoft.github.io/mule-cookbook-tutorial/">here</a>. We will not consider a &lt;ConnectorName&gt;TestCase and therefore every test case will extend directly from AbstractTestCase.
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="_testing_processors">Testing Processors</h5>
<div class="paragraph">
<p>CTF enables testing of processors in a simple manner. By means of a mocked connector, we can call every connector operation with its actual parameters, without dealing with Mule internals (Spring beans, Mule flows, etc.).</p>
</div>
<div class="paragraph">
<p>Let&#8217;s consider one of the available processors within CookBook Connector, <em>getRecentlyAdded</em>. A functional test will be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> ...
<span class="include">import</span> <span class="include">org.mule.tools.devkit.ctf.junit.AbstractTestCase</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">GetRecentlyAddedTestCases</span> <span class="directive">extends</span> AbstractTestCase&lt;CookBookConnector&gt; {

  <span class="comment">//No @Before or @After methods required</span>

        <span class="annotation">@Test</span>
        <span class="directive">public</span> <span class="type">void</span> testGetRecentlyAdded() <span class="directive">throws</span> <span class="exception">Exception</span>{

    <span class="predefined-type">List</span>&lt;Recipe&gt; resultList = getConnector().getRecentlyAdded();

    <span class="comment">//Assert on resultList</span>
        }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The method <em>getConnector()</em> returns an instance of the actual connector under test, allowing to invoke its operations with its parameters. In this particular case, <em>getRecentlyAdded</em> does not require any parameters.</p>
</div>
</div>
<div class="sect4">
<h5 id="_testing_metadata">Testing MetaData</h5>
<div class="paragraph">
<p><em>Anypoint Studio DataSense</em> allows a connector to gather metadata from the remote service in design time, enabling Anypoint developers to deal with actual object types and descriptions instead of generic types.</p>
</div>
<div class="paragraph">
<p>A single metadata class <strong>per MetaDataCategory</strong> is accepted, named as <em>&lt;CategoryName&gt;MetaDataTestCases</em>, which will include two tests: <em>testMetaDataKeys</em> and <em>testMetaData</em> for that specific category. CTF provides <em>getDispatcher()</em>, which exposes two methods for fetching MetaDataKeys and MetaData, <strong>fetchMetaDataKeys()</strong> and <strong>fetchMetaData(keyName)</strong>. The first one fetches all keys from the MetaData underlying service, while the second one retrieves the descriptor for a particular MetadataKey.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> ...
<span class="include">import</span> <span class="include">org.mule.tools.devkit.ctf.junit.AbstractTestCase</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">CookBookMetadataCategoryMetaDataTestCases</span> <span class="directive">extends</span> AbstractTestCase&lt;CookBookConnector&gt; {

        <span class="annotation">@Test</span>
        <span class="annotation">@MetaDataTest</span>
        <span class="directive">public</span> <span class="type">void</span> testMetaDataKeys() <span class="directive">throws</span> <span class="exception">Exception</span>{

            <span class="predefined-type">Result</span>&lt;<span class="predefined-type">List</span>&lt;MetaDataKey&gt;&gt; metaDataKeysResult = dispatcher.fetchMetaDataKeys();
                        assertTrue(<span class="predefined-type">Result</span>.Status.SUCCESS.equals(metaDataKeysResult.getStatus()));

      <span class="predefined-type">List</span>&lt;MetaDataKey&gt; metaDataKeys = metaDataKeysResult.get();

      MetaDataKey recipeKey;
      MetaDataKey ingredientKey;

            <span class="keyword">for</span> (MetaDataKey key : metaDataKeys) {
                    <span class="keyword">if</span> (recipeKey == <span class="predefined-constant">null</span> &amp;&amp; key.getId().equals(<span class="string"><span class="delimiter">&quot;</span><span class="content">Recipe</span><span class="delimiter">&quot;</span></span>))
                            recipeKey = key;
                    <span class="keyword">if</span> (ingredientKey == <span class="predefined-constant">null</span> &amp;&amp; key.getId().equals(<span class="string"><span class="delimiter">&quot;</span><span class="content">Ingredient</span><span class="delimiter">&quot;</span></span>))
                            ingredientKey = key;
            }

      <span class="comment">//Assert on MetaDataKeys</span>
            assertNotNull(recipeKey);
            assertNotNull(ingredientKey);
        }

  <span class="annotation">@Test</span>
        <span class="annotation">@MetadataTest</span>
        <span class="directive">public</span> <span class="type">void</span> testMetaData() <span class="directive">throws</span> <span class="exception">Exception</span>{

            <span class="predefined-type">Result</span>&lt;<span class="predefined-type">List</span>&lt;MetaDataKey&gt;&gt; metaDataKeysResult = dispatcher.fetchMetaDataKeys();
                        assertTrue(<span class="predefined-type">Result</span>.Status.SUCCESS.equals(metaDataKeysResult.getStatus()));

      <span class="predefined-type">List</span>&lt;MetaDataKey&gt; metaDataKeys = metaDataKeysResult.get();

      MetaDataKey recipeKey;
      MetaDataKey ingredientKey;

            <span class="keyword">for</span> (MetaDataKey key : metaDataKeys) {
                    <span class="keyword">if</span> (recipeKey == <span class="predefined-constant">null</span> &amp;&amp; key.getId().equals(<span class="string"><span class="delimiter">&quot;</span><span class="content">Recipe</span><span class="delimiter">&quot;</span></span>))
                            recipeKey = key;
                    <span class="keyword">if</span> (ingredientKey == <span class="predefined-constant">null</span> &amp;&amp; key.getId().equals(<span class="string"><span class="delimiter">&quot;</span><span class="content">Ingredient</span><span class="delimiter">&quot;</span></span>))
                            ingredientKey = key;
            }

      <span class="comment">//Asserts on MetaData</span>
            <span class="predefined-type">Result</span>&lt;MetaData&gt; recipeKeyResult = dispatcher.fetchMetaData(recipeKey);
                        assertTrue(<span class="predefined-type">Result</span>.Status.SUCCESS.equals(recipeKeyResult.getStatus()));

                        <span class="predefined-type">Result</span>&lt;MetaData&gt; ingredientKeyResult = dispatcher.fetchMetaData(ingredientKey);
                        assertTrue(<span class="predefined-type">Result</span>.Status.SUCCESS.equals(ingredientKeyResult.getStatus()));
        }
}</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
All metadata tests need to be annotated with @MetaDataTest. This assures that metadata tests are only executed in the latest Mule Runtime.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_testing_metadata_preferred_testing_approach_for_complex_domains">Testing MetaData: Preferred Testing Approach for Complex Domains</h5>
<div class="paragraph">
<p>When the domain of the connector is complex and its entities contain large and deep object structures, MetaData tests might end up being long, complicate to read and they might not even test the entire MetaData description.</p>
</div>
<div class="paragraph">
<p>To deal with this scenario, the following approach is highly recommended:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Naming conventions is maintained, where a single metadata class <strong>per MetaDataCategory</strong> is accepted, named as <em>&lt;CategoryName&gt;MetaDataTestCases</em>.</p>
</li>
<li>
<p>A MetaData abstract parent is introduced, named as <em>AbstractMetaDataTestCase.java</em> available within CTF packages. This method need to be parametrized with the connector class.</p>
</li>
<li>
<p>Every <em>&lt;CategoryName&gt;MetaDataTestCases</em> need to extend from <em>AbstractMetaDataTestCase</em> and defines which keys/entities must be tested as follows:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> ...
<span class="include">import</span> <span class="include">org.mule.tools.devkit.ctf.junit.AbstractMetaDataTestCase</span>;
<span class="keyword">import</span> <span class="include">java.util.ArrayList</span>;
<span class="keyword">import</span> <span class="include">java.util.List</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">CookBookMetaDataCategoryMetaDataTestCases</span> <span class="directive">extends</span> AbstractMetaDataTestCase&lt;CookBookConnector&gt; {

    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; keys = <span class="keyword">new</span> <span class="predefined-type">ArrayList</span>&lt;<span class="predefined-type">String</span>&gt;();

    <span class="directive">static</span> {
        keys.add(<span class="string"><span class="delimiter">&quot;</span><span class="content">Recipe</span><span class="delimiter">&quot;</span></span>);
        keys.add(<span class="string"><span class="delimiter">&quot;</span><span class="content">Ingredient</span><span class="delimiter">&quot;</span></span>);
    }

    <span class="directive">public</span> &lt;CategoryName&gt;MetaDataTestCases() {
        <span class="local-variable">super</span>(keys, CookBookMetaDataCategory.class, CookBook.class);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Thus, every metadata test case defines within its category the important entities to test. The underlying implementation will only tests those categories and compare the results of the MetaData retrieved from the sandbox with JSON-based structures keep within the connector test resources. These structures are created the first time the test is ran and kept afterwards for future test executions.</p>
</div>
</div>
<div class="sect4">
<h5 id="_testing_wsdl_operation">Testing WSDL Operation</h5>
<div class="paragraph">
<p>Testing WSDL operations is easily supported by CTF. WSDL operations consume WSDL files mapped as XMLStreamReader files, which must be generated within the TestDataBuilder as usual.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
Testing WSDL operations is only required when the connector under test is a SOAP Connect-based connector, opposite to a SDK-based connector.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A single WSDL test case is accepted and need to be named as <em>WSDLTestCases</em>. Since WSDL testing consume WSDL files, they must be organized as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><em>src/test/resources/payloads.xml:</em> A directory that must contain all required WSDL/XML files, which are consumed by the TestDataBuilder.</p>
</li>
<li>
<p><em>WSDL_ID#Operation:</em> Every WSDL/XML file must be named as the WSDL ID following the separator <em>#</em> and ending with the operation name.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Testing WSDL operations is supported by means of the following method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> ...
<span class="include">import</span> <span class="include">org.mule.tools.devkit.ctf.junit.AbstractTestCase</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">WSDLTestCases</span> <span class="directive">extends</span> AbstractTestCase&lt;CookBookConnector&gt; {

    <span class="annotation">@Test</span>
    <span class="directive">public</span> <span class="type">void</span> testWSDL&lt;OperationName&gt;() <span class="directive">throws</span> <span class="exception">Exception</span> {

        XMLStreamReader request = TestDataBuilder.getXMLStreamReaderForAParticularWSDL();

        ConnectorDispatcher&lt;CookBookConnector&gt; dispatcher = getDispatcher();

        XMLStreamReader XMLStreamResult = dispatcher.invokeWsdlOperation(request, <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;WSDL_ID&gt;</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;OperationName&gt;</span><span class="delimiter">&quot;</span></span>);

        <span class="comment">//Asserts on XMLStreamResult</span>
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is a simple example illustrating how CTF supports WSDL operations with a single method. The first parameter is the XMLStreamReader input based on a specific WSDL/XML. The second argument is the WSDL_ID to be used, while the last one stands for the operation name. If your connector does not include multiple service definitions, you need to opt for using the variant of the method without the WSDL_ID as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> ...
<span class="include">import</span> <span class="include">org.mule.tools.devkit.ctf.junit.AbstractTestCase</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">WSDLTestCases</span> <span class="directive">extends</span> AbstractTestCase&lt;CookBookConnector&gt; {

    <span class="annotation">@Test</span>
    <span class="directive">public</span> <span class="type">void</span> testWSDL&lt;OperationName&gt;() <span class="directive">throws</span> <span class="exception">Exception</span> {

        XMLStreamReader request = TestDataBuilder.getXMLStreamReaderForAParticularTest();

        ConnectorDispatcher&lt;CookBookConnector&gt; dispatcher = getDispatcher();

        XMLStreamReader XMLStreamResult = dispatcher.invokeWsdlOperation(request, <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;OperationName&gt;</span><span class="delimiter">&quot;</span></span>);

        <span class="comment">//Asserts on XMLStreamResult</span>
    }</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="__paginated_methods">@Paginated methods</h5>
<div class="paragraph">
<p>A connector method can be annotated as @Paged, which means that when calling that method, several calls to the underlying API will be generated so as to avoid retrieving a possible big set of results in one API call. As a result, the user will consume the entire set of results with a single call to the method, although Mule will automatically generate different API calls.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s consider the <em>queryPaginated(..)</em> method within the CookBook connector, which is annotated as @Paged and defined as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Processor</span>
   <span class="annotation">@ReconnectOn</span>(exceptions = { SessionExpiredException.class })
   <span class="annotation">@Paged</span>
   <span class="directive">public</span> ProviderAwarePagingDelegate&lt;<span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">Object</span>&gt;, CookbookConnector&gt; queryPaginated(
           <span class="directive">final</span> <span class="predefined-type">String</span> query, <span class="directive">final</span> PagingConfiguration pagingConfiguration)
           <span class="directive">throws</span> SessionExpiredException {
       <span class="keyword">return</span> <span class="keyword">new</span> CookbookPagingDelegate(query, pagingConfiguration.getFetchSize());
   }</code></pre>
</div>
</div>
<div class="paragraph">
<p>In order to test this paginated, CTF enables the following mechanism:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> ...
<span class="include">import</span> <span class="include">org.mule.tools.devkit.ctf.junit.AbstractTestCase</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">QueryPaginatedTestCases</span> <span class="directive">extends</span> AbstractTestCase&lt;CookBookConnector&gt; {

  <span class="comment">//No @Before or @After methods required</span>

        <span class="annotation">@Test</span>
        <span class="directive">public</span> <span class="type">void</span> testQueryPaginated() <span class="directive">throws</span> <span class="exception">Exception</span>{

                <span class="predefined-type">Object</span><span class="type">[]</span> args = <span class="keyword">new</span> <span class="predefined-type">Object</span><span class="type">[]</span> { <span class="string"><span class="delimiter">&quot;</span><span class="content">SELECT Id FROM Recipes</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">null</span> };

                <span class="predefined-type">Collection</span>&lt;<span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">Object</span>&gt;&gt; listResult = (<span class="predefined-type">Collection</span>&lt;<span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">Object</span>&gt;&gt;) dispatcher.runPaginatedMethod(<span class="string"><span class="delimiter">&quot;</span><span class="content">queryPaginated</span><span class="delimiter">&quot;</span></span>, args);

    <span class="comment">//Assert on listResult</span>
        }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This test extract illustrates how pagination works. If we try to execute connector.queryPaginated(&#8230;&#8203;), a runtime exception <strong>UnsupportedMethodAnnotationException</strong> will be thrown by CTF. We need to used the dispatcher instead, which exposes a <strong>runPaginatedMethod(methodName, args)</strong>. The first parameter is the method name (camel-like), while the second is the list of parameter taken by the method in the same order as defined in its signature. In this case the first parameter is the query itself, while the last parameter, a PagingConfiguration object, is not present.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
We provide a mechanism to test operations annotated with @Paged, which indirectly tests the underlying pagination mechanism. However, testing how the pagination mechanisms works, <em>i.e.</em> testing the number of pages retrieved and the values within each page should not be performed with the testing framework, since most likely it is a unit test and not a functional test.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_system_tests">4.4. System Tests</h3>
<div class="paragraph">
<p>This category must group all those tests that <strong>required a connection</strong>. All those tests that are not functional, but require a connection must go within this category.</p>
</div>
<div class="sect3">
<h4 id="_test_organization">4.4.1. Test Organization</h4>
<div class="paragraph">
<p>System tests need to be engineered and organized as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Test Suites:</strong> <em>org.mule.modules.&lt;connector-project&gt;.automation.runner.SystemTestSuite</em> groups all System tests with no exception. In case two or more test suites are required (when grouping semantic similar tests for instance), a <em>FullSystemTestSuite</em> need to be used, grouping the remaining test suites.</p>
</li>
<li>
<p><strong>Naming Convention:</strong> System tests must end with <em>TestCases</em>. Employing alternatives ending names is discouraged, specially endings such as <em>Test</em> or <em>TestCase</em>.</p>
</li>
<li>
<p><strong>Test Categories:</strong> Tests categories might be used if needed, although are discouraged. However, if used, they need to be named as <em>SystemTest.class</em>.</p>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
When not using test categories, a test suite might use <strong>@RunWith(Suite.class)</strong> before the list of classes within the suite itself. Thus, all listed test classes are executed and any test category is needed.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_packages_and_files_2">4.4.2. Packages and Files</h4>
<div class="paragraph">
<p>System test files need to be kept in specific packages as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>org.mule.modules.&lt;connector-project&gt;.automation.system</strong> contains the system test cases exclusively.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_topic_to_tests_with_system_tests">4.4.3. Topic to Tests with System Tests</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Test Connectivity:</strong> These tests aim at running the <em>TestConnectivity</em> operation by covering the internal logic of the method itself, which differs from testing the annotation used. A single test case is accepted for each connection configuration, named as <em>&lt;ConfigName&gt;TestCases</em>, which will contains as many tests as set of credentials are used.</p>
</li>
</ol>
</div>
<div class="sect4">
<h5 id="_test_connectivity">Test Connectivity</h5>
<div class="paragraph">
<p>These tests aim at testing the logic under the @TestConnectivity annotated method. To do so, let&#8217;s consider the following connector example and its connection configuration.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ConnectionManagement</span>(friendlyName=<span class="string"><span class="delimiter">&quot;</span><span class="content">CookBookConnector Basic Connection</span><span class="delimiter">&quot;</span></span>, configElementNam=<span class="string"><span class="delimiter">&quot;</span><span class="content">config</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">CookBookBasicConfig</span> {

  <span class="annotation">@Connect</span>
  <span class="directive">public</span> <span class="type">void</span> connect(<span class="annotation">@ConnectionKey</span> <span class="predefined-type">String</span> username, <span class="annotation">@Password</span> <span class="predefined-type">String</span> password){
     ...
  }

  <span class="annotation">@TestConnectivity</span>
  <span class="directive">public</span> <span class="type">void</span> testConnectivity(<span class="annotation">@ConnectionKey</span> <span class="predefined-type">String</span> username, <span class="annotation">@Password</span> <span class="predefined-type">String</span> password){

    <span class="comment">//Always call the connect method somewhere within the @TestConnectivity method</span>
    <span class="local-variable">this</span>.connect(username, password);

    <span class="comment">//Add extra behavior when testing the connection</span>
  }
...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In order to test this connection config, the following test is required:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span>
<span class="include">public</span> <span class="include">class</span> <span class="include">CookBookBasicConfigTestCases</span> {

  <span class="include">private</span> <span class="include">Properties</span> <span class="include">validCredentials</span>;

  <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">Logger</span> logger = <span class="predefined-type">Logger</span>.getLogger(CookBookBasicConfigTestCases.class);

  <span class="annotation">@Before</span>
  <span class="directive">public</span> <span class="type">void</span> setup(){

    validCredentials = ConfigurationUtils.getAutomationCredentialsProperties();
  }


   <span class="annotation">@Test</span>
   <span class="directive">public</span> <span class="type">void</span> validCredentialsConnectivityTest <span class="directive">throws</span> <span class="exception">Exception</span> {

    <span class="comment">//Add required extra behavior here if necessary</span>

    <span class="directive">final</span> CookBookBasicConfig config = <span class="keyword">new</span> CookBookBasicConfig();

    <span class="predefined-type">String</span> username = validCredentials.getProperty(<span class="string"><span class="delimiter">&quot;</span><span class="content">config.username</span><span class="delimiter">&quot;</span></span>);
    <span class="predefined-type">String</span> password = validCredentials.getProperty(<span class="string"><span class="delimiter">&quot;</span><span class="content">config.password</span><span class="delimiter">&quot;</span></span>);

    <span class="comment">//Call the @TestConnectivity</span>
    config.testConnectivity(username, password);
   }

   <span class="annotation">@Test</span>
   <span class="directive">public</span> <span class="type">void</span> invalidCredentialsConnectivityTest <span class="directive">throws</span> <span class="exception">Exception</span> {

    <span class="comment">//Add required extra behavior here if necessary</span>

    CookBookBasicConfig config = <span class="keyword">new</span> CookBookBasicConfig();

    <span class="comment">//Call the @TestConnectivity</span>
    config.testConnectivity(<span class="string"><span class="delimiter">&quot;</span><span class="content">noUserName</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">noPassword</span><span class="delimiter">&quot;</span></span>);
   }

   <span class="annotation">@Test</span>
   <span class="directive">public</span> <span class="type">void</span> nullCredentialsConnectivityTest <span class="directive">throws</span> <span class="exception">Exception</span> {

    <span class="comment">//Add required extra behavior here if necessary</span>

    CookBookBasicConfig config = <span class="keyword">new</span> CookBookBasicConfig();

    <span class="comment">//Call the @TestConnectivity</span>
    config.testConnectivity(<span class="predefined-constant">null</span>, <span class="predefined-constant">null</span>);
   }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that in this case, the <em>automation-credentials.properties</em> file is formed by <em>&lt;configName&gt;.&lt;placeholder&gt;=&lt;value&gt;</em>. In this example we have as config name (defined by <em>configElementName</em> paramenter) <strong>cookbookconfig</strong>. This file always goes within <em>src/test/resources</em>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
The valid credentials need to be the same as with the functional tests, in this case <em>automation-credentials.properties</em>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Connectivity tests need to tests as many scenarios as possible, such as invalid credentials, null parameters, etc.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<em>ConfigurationUtils.Java class</em> is available within CTF packages.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_unit_tests">4.5. Unit Tests</h3>
<div class="paragraph">
<p>Unit tests aim at assuring the correct behavior of a particular code unit within the connector. Although not a mandatory step within the certification process, different aspects require unit tests instead of functional tests.</p>
</div>
<div class="sect3">
<h4 id="_test_organization_2">4.5.1. Test Organization</h4>
<div class="paragraph">
<p>Functional tests need to be engineered and organized as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Test Suites:</strong> Tests suites are not required for unit tests.</p>
</li>
<li>
<p><strong>Naming Convention:</strong> Unit tests should follow JUnit naming conventions, normally ending with <em>Test</em> or <em>TestCase</em>. Any other ending will produce Maven Surfire plugin to skip these tests during installation.</p>
</li>
<li>
<p><strong>Test Categories:</strong> Tests categories are not required for unit tests.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_packages_and_files_3">4.5.2. Packages and Files</h4>
<div class="paragraph">
<p>Test files need to be kept in specific packages as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>org.mule.modules.&lt;connector-project&gt;.automation.unit</strong> contains the unit test cases exclusively.</p>
</li>
</ol>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
Overriding package organization is only accepted if a unit test need to be contained within the same package of the class under tests, <em>i.e.</em> when the class has package visibility.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_test_execution">4.6. Test Execution</h3>
<div class="paragraph">
<p>Once all tests have been engineered, they must be executed following a few guidelines:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Functional Tests:</strong> Functional tests must be executed with different Mule runtime environments, assuring the correct integration of the connector with older and current Mule runtimes.</p>
</li>
<li>
<p><strong>System Tests</strong>: Connectivity tests need to be executed with valid and invalid credentials, covering both success and error cases.</p>
</li>
<li>
<p><strong>Unit Tests:</strong> All unit tests need to be ran with <em>mvn tests</em>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The whole set of test can be executed <em>mvn test -Dtest="*Test,*TestSuite"</em>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<strong>mvn test</strong> must only run unit tests, since the remaining tests (Functional and System tests) need a valid connection and credentials. Without these credentials, tests will fail.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_running_functional_tests">4.6.1. Running Functional Tests</h4>
<div class="paragraph">
<p>The overall idea of functional tests is to assure backward and forward compatibility in every aspect of a connector. Therefore, the main goal is to execute the functional test suite in different Mule runtime environments.</p>
</div>
<div class="sect4">
<h5 id="_test_setup">Test SetUp</h5>
<div class="paragraph">
<p>There are a few things to consider before running the functional test suite:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>automation-credentials.properties:</strong> This file stores the connector credentials and authenticated user related information. It is mandatory to have this file within src/test/resources.</p>
</li>
<li>
<p><strong>required-libraries.properties:</strong> This file stores the list of required external Jars or native libraries.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Both these files need to be stored within <strong>&lt;connector-project&gt;/src/test/resources</strong> for running the functional test suite.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
Be careful of excluding these files when committing changes.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <em>required-libraries.properties</em> files is only mandatory if external, or native, libraries are required, as explained <a href="https://developer.mulesoft.com/docs/display/current/Creating+an+Anypoint+Connector+Project#CreatinganAnypointConnectorProject-AddingNativeLibrariesandJARstoaConnectorBuild">here</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_required_test_configurations">Required Test configurations</h5>
<div class="paragraph">
<p>The connector must be tested with all available Mule runtimes environments from its <em>MinMuleVersion</em> to the latest runtime (MinMuleVersion is a parameter specifying which is the minimum supported Mule runtime for a given connector).</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><em>Mule Runtimes:</em> If a connector does not require an Enterprise Mule Runtime (<em>i.e.</em> it is not Premium nor Select) it must use <strong>Mule Community Edition Runtimes</strong>, such as 3.5.0, 3.6.0 or 3.7.0. Otherwise, it must use <strong>Mule Enterprise Edition Runtimes</strong>, such as 3.5.3 or 3.6.2.</p>
</li>
<li>
<p><em>Java Versions:</em> Every Mule runtime environment needs to be bind with a particular Java version as follows: Mule runtimes 3.5.X must use Java 1.6, Mule runtimes 3.6.X must use Java 1.7 and Mule runtimes 3.7.X must use Java 1.8. This can be achieved by configuring the <em>wrapper.comf</em> file within the Mule runtime <em>conf</em> directory.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_testing_using_ctf">Testing using CTF</h5>
<div class="paragraph">
<p>The Connector Testing Framework allows to run test suites in a specific Mule runtime environment, as explained <a href="https://mulesoft.github.io/connector-testing-framework/">here</a>.</p>
</div>
<div class="paragraph">
<p>Two extra test properties need to be added when running a test suite from the command line:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Deployment Profile: By using <em>-Ddeploymentprofile=local</em>, CTF will run the test suite in a remote Mule runtime environment.</p>
</li>
<li>
<p>Mule Directory: By using <em>-Dmuledirectory:&lt;mule-directory&gt;</em>, CTF will use the available mule runtime to run a test suite if <em>-Ddeploymentprofile=local</em> is used.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_anypoint_studio_iteroperability_testing">5. Anypoint™ Studio Interoperability Testing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Based on these guidelines, analyze the connector you&#8217;re testing and focus on processors that exercise the most representative cases</p>
</div>
<div class="paragraph">
<p><strong>Preconditions</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Flow contains a connector-dataweave-connector building block arrangement on the canvas.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 45%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Steps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expected result</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configure both connectors with an operation returning and/or having an attribute of type POJO / List&lt;POJO&gt;, Map&lt;String,POJO&gt;, or List&lt;Map&lt;String, Object&gt;&gt;.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metadata is fetched for both configurations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the DataWeave element click "Scaffold output structure" and accept.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"Select fields to scaffold" dialog type matches the Input Metadata of the processor (attribute annotated with @Default("#[payload]"))</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select all and click Ok</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scaffolding for the Input Metadata is written out automatically, Transformation and Output section reflect the changes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Click on the Structure tab of the Output section</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Input Metadata of the processor is reflected</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In the Input section select the payload and click on Sample data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Additional Payload tab is displayed that shows a sample input with placeholders for its fields.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Click on Regenerate sample data and accept.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"Select fields to use in sample data generation" dialog type matches the Output Metadata of the processor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select all fields and accept</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">payload tab content is updated</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_cloudhub_interoperability">6. CloudHub Interoperability</h2>
<div class="sectionbody">
<div class="paragraph">
<p>These items apply exclusively for connectors supporting OAuth authentication.</p>
</div>
<div class="paragraph">
<p>CloudHub&#8217;s Object Store is stateless (behaves like a proxy). This behavior is different from an Object Store in a local Mule application. For this reason, a simple application using OAuth must be run on the CloudHub platform to verify its correct behavior.</p>
</div>
<div class="paragraph">
<p>First, check that the callback URL on the application redirects to the URL set on the config­ref.</p>
</div>
<div class="paragraph">
<p>Make sure the domain on the Deploy to CloudHub dialog matches the one set for the callback URL.</p>
</div>
<div class="paragraph">
<p><strong>Example</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/qa-guidelines-cloudhub-1.png" alt="qa guidelines cloudhub 1">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;facebook:config-with-oauth</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Facebook</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Facebook</span><span class="delimiter">&quot;</span></span>
<span class="attribute-name">consumerKey</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">206589772847469</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">consumerSecret</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">14b75847e7c9cca4159b3314b39fcd43</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;facebook:oauth-callback-config</span> <span class="attribute-name">domain</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">facebookoauth.stg.cloudhub.io</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">localPort</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${http.port}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">path</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">callback</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/facebook:config-with-oauth&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Also make sure that the Mule version is the one under test.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Facebook Example</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="preprocessor">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="tag">&lt;mule</span> <span class="attribute-name">xmlns:json</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.mulesoft.org/schema/mule/json</span><span class="delimiter">&quot;</span></span>
<span class="attribute-name">xmlns:http</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.mulesoft.org/schema/mule/http</span><span class="delimiter">&quot;</span></span>
<span class="attribute-name">xmlns:facebook</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.mulesoft.org/schema/mule/facebook</span><span class="delimiter">&quot;</span></span>
<span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.mulesoft.org/schema/mule/core</span><span class="delimiter">&quot;</span></span>
<span class="attribute-name">xmlns:doc</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.mulesoft.org/schema/mule/documentation</span><span class="delimiter">&quot;</span></span>
       <span class="attribute-name">xmlns:spring</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.springframework.org/schema/beans</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">version</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">EE-3.5.0</span><span class="delimiter">&quot;</span></span>
       <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">&quot;</span></span>
       <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.springframework.org/schema/beans</span>
       <span class="content">http://www.springframework.org/schema/beans/spring-beans-current.xsd</span>
       <span class="content">http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd</span>
       <span class="content">http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd</span>
       <span class="content">http://www.mulesoft.org/schema/mule/facebook</span>
       <span class="content">http://www.mulesoft.org/schema/mule/facebook/current/mule-facebook.xsd</span>
       <span class="content">http://www.mulesoft.org/schema/mule/json http://www.mulesoft.org/schema/mule/json/current/mule-json.xsd</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>

    <span class="tag">&lt;facebook:config-with-oauth</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Facebook</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Facebook</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">consumerKey</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${facebook.consumerKey}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">consumerSecret</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${facebook.consumerSecret}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;facebook:oauth-callback-config</span> <span class="attribute-name">domain</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">facebookoauth.stg.cloudhub.io</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">localPort</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${http.port}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">path</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">callback</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/facebook:config-with-oauth&gt;</span>

    <span class="tag">&lt;flow</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">3.5.0-facebook-oauthFlow1</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">3.5.0-facebook-oauthFlow1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;http:inbound-endpoint</span> <span class="attribute-name">exchange-pattern</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">request-response</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">host</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">localhost</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">port</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${http.port}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">path</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">authFacebook</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
        <span class="tag">&lt;facebook:authorize</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Facebook</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Facebook</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;facebook:get-user</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Facebook</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Facebook</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">user</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">hernan.wittemoller</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;json:object-to-json-transformer</span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Object to JSON</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/flow&gt;</span>
<span class="tag">&lt;/mule&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Note: remotePort should not be part of the config, and that the ${http.port} placeholder is to be used for ports.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Salesforce Example</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Generate keystore.jks running this command: <strong>keytool -genkey -alias mule -keyalg RSA -keystore keystore.jks</strong></p>
</li>
<li>
<p>Place keystore.jks it in src/resources.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="preprocessor">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="tag">&lt;mule</span> <span class="attribute-name">xmlns:https</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.mulesoft.org/schema/mule/https</span><span class="delimiter">&quot;</span></span>
       <span class="attribute-name">xmlns:http</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.mulesoft.org/schema/mule/http</span><span class="delimiter">&quot;</span></span>
<span class="attribute-name">xmlns:sfdc</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.mulesoft.org/schema/mule/sfdc</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.mulesoft.org/schema/mule/core</span><span class="delimiter">&quot;</span></span>
<span class="attribute-name">xmlns:doc</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.mulesoft.org/schema/mule/documentation</span><span class="delimiter">&quot;</span></span>
       <span class="attribute-name">xmlns:spring</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.springframework.org/schema/beans</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">version</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">EE-3.5.0</span><span class="delimiter">&quot;</span></span>
       <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">&quot;</span></span>
       <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.mulesoft.org/schema/mule/https</span>
<span class="content">http://www.mulesoft.org/schema/mule/https/current/mule-https.xsd</span>
<span class="content">http://www.springframework.org/schema/beans</span>
<span class="content">http://www.springframework.org/schema/beans/spring-beans-current.xsd</span>
<span class="content">http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd</span>
<span class="content">http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd</span>
<span class="content">http://www.mulesoft.org/schema/mule/sfdc http://www.mulesoft.org/schema/mule/sfdc/current/mule-sfdc.xsd</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
￼￼38
<span class="tag">&lt;sfdc:config-with-oauth</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Salesforce__OAuth_</span><span class="delimiter">&quot;</span></span>
<span class="attribute-name">consumerKey</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${salesforce.consumerKey}</span><span class="delimiter">&quot;</span></span>
<span class="attribute-name">consumerSecret</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${salesforce.consumerSecret}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Salesforce (OAuth)</span><span class="delimiter">&quot;</span></span> <span class="tag">&gt;</span>
        <span class="tag">&lt;sfdc:oauth-callback-config</span> <span class="attribute-name">domain</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">salesforceoauth.qa2.cloudhub.io</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">localPort</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${https.port}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">path</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">oauthcallback</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">connector-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https_connector</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/sfdc:config-with-oauth&gt;</span>
    <span class="tag">&lt;https:connector</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https_connector</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">cookieSpec</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">netscape</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">validateConnections</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">sendBufferSize</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">receiveBufferSize</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">receiveBacklog</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">clientSoTimeout</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">10000</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">serverSoTimeout</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">10000</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">socketSoLinger</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">0</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP-HTTPS</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;https:tls-key-store</span> <span class="attribute-name">path</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">keystore.jks</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">keyPassword</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">password</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">storePassword</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">password</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/https:connector&gt;</span>
    <span class="tag">&lt;flow</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">3.5.0-everest-oauth-salesforce-twoFlow1</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">3.5.0-everest-oauth-salesforce-twoFlow1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;http:inbound-endpoint</span> <span class="attribute-name">exchange-pattern</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">request-response</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">host</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">localhost</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">port</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${http.port}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">HTTP</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">path</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">oauth</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;sfdc:authorize</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Salesforce__OAuth_</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">display</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">POPUP</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Salesforce</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;sfdc:get-user-info</span> <span class="attribute-name">config-ref</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Salesforce__OAuth_</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Salesforce</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;logger</span> <span class="attribute-name">message</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">#[payload]</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">level</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">INFO</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Logger</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
        <span class="tag">&lt;set-payload</span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Done</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">doc:name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Set Payload</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/flow&gt;</span>
<span class="tag">&lt;/mule&gt;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_documentation">7. Documentation &amp; Release Notes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Documentation is a vital part of the development stage. Your development team must strictly follow MuleSoft documentation standards described in this document.</p>
</div>
<div class="sect2">
<h3 id="_built_in_documentation">7.1. Built-in Documentation</h3>
<div class="paragraph">
<p>Part of the documentation must be packed within the connector source code. The mandatory files are:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User Guide</p>
</li>
<li>
<p>Release Notes</p>
</li>
<li>
<p>ReadMe</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In addition, create an extra folder named <em>images</em> inside the <em>doc</em> folder. This resource folder contains any resources (images, XMLs, etc.) used in the documentation.</p>
</div>
<div class="sect3">
<h4 id="_user_guide">7.1.1. User Guide</h4>
<div class="paragraph">
<p>The user guide needs to be fully descriptive and easy to read, including not only technical documentation but use cases and error solutions. Write the documentation using AsciiDoc syntax so that the resulting file is called <em>user_manual.adoc</em>. A template can be found <a href="files/user-manual.adoc">here</a>.
It should reside in <em>doc</em> folder in the root of the connector project.</p>
</div>
</div>
<div class="sect3">
<h4 id="_release_notes">7.1.2. Release Notes</h4>
<div class="paragraph">
<p>Release notes need to be highly descriptive, including backward compatibility of the released connector with previous versions. A template can be found <a href="files/release-notes.adoc">here</a>.
It should reside in <em>doc</em> folder in the root of the connector project.</p>
</div>
</div>
<div class="sect3">
<h4 id="_readme">7.1.3. ReadMe</h4>
<div class="paragraph">
<p>A README.md template can be found <a href="files/README.md">here</a>. It should reside in the root of the connector project.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_connector_apidocs">7.2. Connector ApiDocs</h3>
<div class="paragraph">
<p>Each public connector requires:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A description that provides a clear and a complete explanation of its purpose.</p>
</li>
<li>
<p>An XML sample that is up-to-date with the method signature and can be directly pasted into Anypoint™ Studio.</p>
</li>
<li>
<p>Attributes that affect methods behavior documented in detail.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For further information, refer to:</p>
</div>
<div class="paragraph">
<p><a href="http://mulesoft.github.io/salesforce-connector/6.2.1/mule/sfdc-config.html#convert-lead">Salesforce Connector: convert-lead Apidocs</a>.</p>
</div>
<div class="paragraph">
<p><a href="http://mulesoft.github.io/salesforce-connector/6.2.1/mule/sfdc-config.html#create">Salesforce Connector: create Apidocs</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_appendixes">8. Appendixes &amp; Templates</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_connector_project_directory_layout">8.1. Connector Project Directory Layout</h3>
<div class="ulist">
<ul>
<li>
<p><a href="files/project-directory-layout.html">Connector Project Directory Layout</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_common_public_attribution_license_version_1_0_cpal">8.2. Common Public Attribution License Version 1.0 (CPAL)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="files/CPAL.html">Common Public Attribution License Version 1.0 (CPAL)</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_functional_tests_automation_howto">8.3. Functional Tests Automation: HowTo</h3>
<div class="ulist">
<ul>
<li>
<p><a href="files/debugging.html">Debugging</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_anypoint_studio_interoperability_testing_howto">8.4. Anypoint™ Studio Interoperability Testing: HowTo</h3>
<div class="ulist">
<ul>
<li>
<p><a href="files/usage-without-anypoint-studio.html">Usage without Anypoint™ Studio</a></p>
</li>
<li>
<p><a href="files/plugin-result-files.html">Plugin Result Files</a></p>
</li>
<li>
<p><a href="files/project-details.html">Project Details</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_anypoint_connectors_manual_test_suite_template">8.5. Anypoint™ Connectors Manual Test Suite Template</h3>
<div class="ulist">
<ul>
<li>
<p><a href="files/manual-interop-test-suite-template.xlsx">Manual Test Suite Template</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="certification-checklist">8.6. Certification Checklists</h3>
<div class="ulist">
<ul>
<li>
<p><a href="files/certification-checklist-connector-name-connector-version.xlsx">Connector Certification Checklist</a></p>
</li>
<li>
<p><a href="files/connector-name-connector-version-manual-interoperability-test-tuite-template.xlsx">Manual Interoperability Test Run Checklist</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2015-10-28 02:49:09 EDT
</div>
</div>
</body>
</html>